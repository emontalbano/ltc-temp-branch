{"version":3,"sources":["../../src/pages/index.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/services/cache.service.ts","../../src/pages/login/fingerprint-setup.ts","../../src/pages/login/terms.ts","../../src/pages/settings/dialogs/index.ts","../../src/reducers/index.ts","../../src/reducers/base.reducer.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/login/login.ts","../../src/services/base.service.ts","../../src/services/salesforce.service.ts","../../src/services/sobject.service.ts","../../src/services/detail.service.ts","../../src/services/checkin.service.ts","../../src/services/invoice.service.ts","../../src/services/claim.service.ts","../../src/common/search/search.ts","../../src/common/base.component.ts","../../src/common/pending/pending.ts","../../src/common/static-map/static-map.ts","../../src/common/datetime-picker/datetime-picker.ts","../../src/pages/settings/settings.ts","../../src/pages/settings/dialogs/billing.ts","../../src/pages/settings/dialogs/fingerprint.ts","../../src/reducers/meta.reducer.ts","../../src/services/index.ts","../../src/common/index.ts","../../src/schema.ts","../../src/common/utils.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["export * from './login/login';\r\n//export * from './contacts';\r\nexport * from './settings/settings';\r\n//export * from './invoices/invoices';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 157;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 157\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 200;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 200\n// module chunks = 0","import { version, schemaSQL, schema } from '../schema';\r\nimport { SJCLWrapper } from '../common/utils';\r\nimport { Injectable, EventEmitter } from '@angular/core';\r\nimport {Store} from '@ngrx/store';\r\n\r\ndeclare var sqlitePlugin:any;\r\ndeclare var device:any;\r\nexport class CacheControlObject {\r\n  channel: string;\r\n  totalSize: number;\r\n  currentSize: number;\r\n  lastCheck: Date;\r\n  filters: any;\r\n  currentOffset: number;\r\n}\r\n\r\n@Injectable()\r\nexport class CacheService {\r\n  public channels: CacheControlObject[] = [];\r\n  protected fullChannels: CacheControlObject[] = [];\r\n  protected newData: EventEmitter<number[]> = new EventEmitter(true);\r\n  public currentItemCount: number = -1;\r\n  public filteredItemCount: number = -1;\r\n  public fullItemCount: number = -2;\r\n  public isFull: boolean = false;\r\n  public curChannel: string = '&initial&';\r\n  protected db: any;\r\n  protected pendingRequests: any[];\r\n\r\n  constructor(protected sjcl: SJCLWrapper) {\r\n\r\n  }\r\n\r\n  /**\r\n   * Unlock Database\r\n   * \r\n   * Unlocks the local SQLcipher database using a pbkdf2 of the provided passcode. If no passcode is\r\n   * provided, it will use the cached sqlite code to unlock the database.\r\n   * \r\n   * @param passcode The unsalted code used to unlock the database\r\n   * @returns Boolean on success / failure\r\n   */\r\n  public async unlockDatabase(passcode?: string, destroyExisting?: boolean) {\r\n    return new Promise<any>( (resolve, reject) => {\r\n      const code = (passcode) ? \r\n        this.sjcl.hash(passcode + version + 'a8853jkhlafsasf783g' + ((typeof device !== 'undefined') ?  device.uuid : 'blank')  ) :\r\n        localStorage.getItem('sqlite-code');\r\n      \r\n      if (code === null || typeof sqlitePlugin === 'undefined') {\r\n        resolve(false);\r\n      }\r\n\r\n      const dbname = this.sjcl.sha256(code);\r\n\r\n      const existingDb = localStorage.getItem('sqlite-db');\r\n      if (existingDb !== null && dbname !== existingDb && destroyExisting) {\r\n        sqlitePlugin.deleteDatabase({name: existingDb + '.db', location: 'default'});\r\n      } else if (existingDb !== null && dbname !== existingDb) {\r\n        resolve(false);\r\n      }\r\n\r\n      if (existingDb !== dbname) {\r\n        localStorage.setItem('sqlite-db', dbname);\r\n      }    \r\n\r\n      if (code !== null) {\r\n        this.db = sqlitePlugin.openDatabase({\r\n          name: dbname + '.db', key: code, location: 'default'\r\n        }, db => {\r\n          this.db = db;\r\n          const tables = schemaSQL.split(';');\r\n          for (let i=0; i<tables.length; i++) {\r\n            this.db.executeSql(tables[i].replace('CREATE TABLE', 'CREATE TABLE IF NOT EXISTS'));\r\n          }\r\n          localStorage.setItem('sqlite-code', code);\r\n          resolve(true);\r\n        }, err => {\r\n          console.log('error');\r\n          console.log(err);\r\n          reject(false);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private async checkDb() {\r\n    if (!this.db) {\r\n      return await this.unlockDatabase();\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * execute\r\n   * \r\n   * Runs a SQLite query on the local database.\r\n   */\r\n  private async execute(query: string, values: string[]) {\r\n    if (!await this.checkDb()) {\r\n      return;\r\n    }\r\n    return new Promise<any>( (resolve, reject) => {      \r\n      this.db.transaction(tx => {\r\n        this.db.executeSql(query, values, (resultSet) => {\r\n          resolve(resultSet);\r\n        }, err => {\r\n          debugger;\r\n          console.log('query error: ', err);\r\n          reject(err);\r\n        });\r\n      }, txError => {\r\n        console.log('transaction error: ', txError);\r\n        reject(txError.message);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create an object in local cache\r\n   * \r\n   * @param obj The object to save in the local cacher\r\n   * @param objType The type name\r\n   * @param pending Boolean based on whether or not the object has already saved successfully in the server\r\n   */\r\n  public async create(obj, objType: string, pending?: boolean) {\r\n    if (!await this.checkDb()) {\r\n      return;\r\n    }\r\n\r\n    const fields = schema[objType]['properties'];\r\n    let newObj = [undefined];\r\n    for (const field in fields) {\r\n      if (field === 'cache_age') {\r\n        newObj.push(this.currentTime())\r\n      } else if (field === 'pending_create' && pending) {\r\n        newObj.push(1);\r\n      } else {\r\n        newObj.push(this.processField(field, obj, fields[field]));\r\n      }\r\n    }\r\n    \r\n    const createStmt = 'INSERT INTO ' + objType + ' VALUES (' + ( newObj.map(a=>'?').join(',') ) + ')';\r\n    return (await this.execute(createStmt, newObj)).insertId;\r\n  }\r\n\r\n  /**\r\n   * Update an object in local cache\r\n   * \r\n   * @param obj Object changes (PATCH style)\r\n   * @param objType The type name\r\n   * @param id The ID of the object to update\r\n   * @param idField The field name used to track the local id. Defaut: \"local_id\"\r\n   */\r\n  public async update(obj, objType: string, id: string, idField?: string) {\r\n    if (!await this.checkDb()) {\r\n      return;\r\n    }\r\n\r\n    idField = (idField) ? idField : 'local_id';    \r\n\r\n    const fields = schema[objType]['properties'];\r\n    let newObj = [];\r\n    let fieldStr = '';\r\n    const addField = (f) => {\r\n      if (fieldStr !== '') {\r\n        fieldStr += ', ';\r\n      }\r\n      fieldStr += f + ' = ?';\r\n    }\r\n    for (const field in fields) {\r\n      if (field === 'cache_age') {\r\n        newObj.push(this.currentTime());\r\n        addField(field);\r\n      } else if (typeof obj[field] !== 'undefined') {\r\n        newObj.push(obj[field]);\r\n        addField(field);\r\n      }\r\n    }\r\n    \r\n    let updateStmt = 'UPDATE ' + objType + ' SET ' + fieldStr + ' WHERE ' + idField + '=\\'' + id + '\\'';\r\n    return this.execute(updateStmt, newObj);\r\n  }\r\n\r\n  /**\r\n   * Deletes an object from local cache.\r\n   * \r\n   * @param objType The type name\r\n   * @param id The ID of the object to delete\r\n   * @param idField The field name used to track the local id. Default: \"local_id\"\r\n   */\r\n  public async delete(objType: string, id:string, idField?:string) {\r\n    if (!await this.checkDb()) {\r\n      return;\r\n    }\r\n    idField = (idField) ? idField : 'local_id';\r\n    \r\n    let deleteStmt = 'DELETE FROM ' + objType + ' WHERE ' + idField + '=\\'' + id + '\\'';\r\n    return this.execute(deleteStmt, []);\r\n  }\r\n\r\n\r\n  /**\r\n   * Updates and inserts a list of objects into local cache. Can perform both updates and inserts\r\n   * in the same operation.\r\n   * \r\n   * @param objs An array of objects to update/insert into local cache.\r\n   * @param objType The type name.\r\n   */\r\n  public async batchUpsert(objs: any[], objType: string) {\r\n    if (objs.length === 0) {\r\n      return;\r\n    }\r\n    if (!await this.checkDb()) {\r\n      return;\r\n    }\r\n\r\n    let toCreate = [];\r\n    let toUpdate = [];\r\n    let toUpdateLocalId = {};\r\n    let valSet = [];\r\n    let existing = [];\r\n    const idSet = objs.map( obj => obj['id'] );\r\n    const resultSet = await this.execute('SELECT id FROM ' + objType + ' WHERE id IN (' + idSet.map( a => '?' ).join(',') + ')', idSet);\r\n    console.log(resultSet);\r\n    for (let i=0; i < resultSet.rows.length; i++) {\r\n      existing.push(resultSet.rows.item(i).id);\r\n    }\r\n\r\n    for (let i=0; i<objs.length; i++) {\r\n      if (!(objs[i]['id'] in existing)) {\r\n        toCreate.push(objs[i]);\r\n      } else {\r\n        valSet.push(objs[i]['id']);\r\n        valSet.push(objs[i]['lastmodifieddate']);\r\n        toUpdate.push('(id = ? and lastmodifieddate != ?)');\r\n      }\r\n    }\r\n    if (toUpdate.length > 0) {\r\n      const needUpdate = await this.execute('SELECT id, local_id FROM ' + objType + ' WHERE ' + toUpdate.join(' OR '), valSet);\r\n      existing = [];\r\n      toUpdate = [];\r\n      for (let i=0; i<needUpdate.rows.length; i++) {\r\n        existing.push(needUpdate.rows.item(i).id);\r\n        toUpdateLocalId[needUpdate.rows.item(i).id] = needUpdate.rows.item(i).local_id;\r\n      }\r\n\r\n      for (let i=0; i<objs.length; i++) {\r\n        if (!(objs[i]['id'] in existing)) {\r\n          toUpdate.push(objs[i]);\r\n        }\r\n      }\r\n\r\n      for (let i=0; i<toUpdate.length; i++) {\r\n        await this.update(toUpdate[i], objType, toUpdateLocalId[toUpdate[i]['id']]);\r\n      }\r\n    }\r\n\r\n    this.batchCreate(toCreate, objType);\r\n  }\r\n\r\n  /**\r\n   * Creates a list of objects in local cache. Used by batchUpsert to create objects which \r\n   * don't currently exist in local store.\r\n   * \r\n   * @param objs An array of objects to create\r\n   * @param objType The type name\r\n   */\r\n  public async batchCreate(objs: any[], objType: string) {\r\n    if (objs.length === 0) {\r\n      throw 'Error: No objects provided';\r\n    }\r\n    if (!await this.checkDb()) {\r\n      return;\r\n    }\r\n\r\n    const fields = schema[objType]['properties'];\r\n    let newObjs = [];\r\n    let fieldMap = null;\r\n    for (var i=0; i<objs.length; i++) {\r\n      newObjs.push(undefined);\r\n      const obj = objs[i];\r\n      let j = ['?'];\r\n      for (const field in fields) {\r\n        if (field === 'cache_age') {\r\n          newObjs.push(this.currentTime())\r\n        } else {\r\n          newObjs.push(this.processField(field, obj, fields[field]));\r\n        }\r\n        if (fieldMap === null) {\r\n          j.push('?');\r\n        }        \r\n      }\r\n      if (fieldMap === null) {\r\n        fieldMap = j;\r\n      }      \r\n    }\r\n    const singleInsert = '(' + fieldMap.join(',') + ')';\r\n    const createStmt = 'INSERT INTO ' + objType + ' VALUES ' + objs.map( a => singleInsert ).join(',');\r\n    return this.execute(createStmt, newObjs);\r\n  }\r\n\r\n  /**\r\n   * This function is called when a service is first initialized. If the object can be cached, this will take data \r\n   * from local cache and add it to the application state.\r\n   * \r\n   * @param store Reference to the reducer to add into.\r\n   * @param key (Optional) The type name to rebuild. Default: null (rebuild all cached models)\r\n   */\r\n  public async rebuildReducers(store, key?:string) {\r\n    \r\n    if (!key) {\r\n      for (const key in this.cachedModels()){\r\n        await this.rebuildReducers(store, key);\r\n      }\r\n    } else {\r\n      \r\n      const resultSet = await this.execute('SELECT * FROM ' + key, []);\r\n      const records = [];\r\n      const fieldList = this.serverFields(key);\r\n      for (let i=0; i< resultSet.rows.length; i++) {\r\n        let obj = {};\r\n        const result = resultSet.rows.item(i);\r\n        fieldList.map( field => {\r\n          obj[field] = result[field];\r\n        });\r\n        records.push(obj);\r\n      }\r\n      store.select(key);\r\n\r\n      store.dispatch({\r\n        type: 'set_' + key,\r\n        payload: { data: records }\r\n      });\r\n    }\r\n\r\n  }\r\n  \r\n  /**\r\n   * Purges items which have exceeded the schema's set freshness limit. Only runs after a connection has \r\n   * been established with the server and data can be refreshed.\r\n   * \r\n   * @param key (Optional) The type name to purge. Default: null (purge all cached models)\r\n   */\r\n  public async purgeOldItems(key?: string) {\r\n    if (!await this.checkDb()) {\r\n      return;\r\n    }\r\n    if (!key) {\r\n      for (const key in this.cachedModels()) {\r\n        await this.purgeOldItems(key);\r\n      } \r\n    } else {\r\n      let pruneTime = 172800;\r\n      try {\r\n        pruneTime = schema[key]['properties']['prune']['default'];\r\n      } catch (e) { }\r\n      await this.execute('DELETE FROM ' + key + ' WHERE cache_age < ' + (this.currentTime() -  pruneTime), []);\r\n    }\r\n  }\r\n\r\n  /** \r\n   * Retries pending items which have been stored in the local sqlite database\r\n   */\r\n  public async retryFromDatabase(restService: any, key?: any) {\r\n    if (!key) {\r\n      for (const key in this.cachedModels()) {\r\n        await this.retryFromDatabase(restService, key);\r\n      } \r\n    } else {\r\n      const fieldList = this.serverFields(key);\r\n      const pending = await this.execute('SELECT ' + fieldList.join(',') + ' FROM ' + key + ' WHERE pending_create = 1 OR pending_update = 1', []);\r\n      const toCreate = [];\r\n      const toUpdate = [];\r\n      for (let i=0; i<pending.rows.length; i++) {\r\n        const item = pending.rows.item(i);\r\n        if (item['pending_create'] === 1) {\r\n          toCreate.push(item);\r\n        } else if (item['pending_update'] === 1) {\r\n          toUpdate.push(item);\r\n        } else {\r\n          throw 'Logic Error: item was returned from database which had neither pending create or pending update flag set.';\r\n        }\r\n      }\r\n\r\n      if (toCreate.length + toUpdate.length === 0) {\r\n        return;\r\n      }\r\n\r\n      for (const obj in toCreate) {\r\n        await restService.create(key, obj);\r\n      }\r\n\r\n      for (const obj in toUpdate) {\r\n        await restService.update(key, obj);\r\n      }\r\n    }\r\n  }\r\n\r\n  public cacheQuery(query: string) {\r\n    const hash = this.microhash(query);\r\n    localStorage.setItem(hash, ''+this.currentTime());\r\n  }\r\n\r\n  public isFresh(query: string, time: number) {\r\n    const hash = this.microhash(query);\r\n    const lastFetch = localStorage.getItem(hash);\r\n    return (lastFetch !== null && parseInt(lastFetch, 10) + time > this.currentTime());\r\n  }\r\n\r\n  /**\r\n   * Hashes any size string into a small, insecure hash quickly.\r\n   */\r\n  private microhash(s: string) {\r\n    var a = 1, c = 0, h, o;\r\n    if (s) {\r\n      a = 0;\r\n      /*jshint plusplus:false bitwise:false*/\r\n      for (h = s.length - 1; h >= 0; h--) {\r\n        o = s.charCodeAt(h);\r\n        a = (a<<6&268435455) + o + (o<<14);\r\n        c = a & 266338304;\r\n        a = c!==0?a^c>>21:a;\r\n      }\r\n    }\r\n    return String(a);\r\n  }\r\n\r\n  protected cachedModels(): string[] {\r\n    return Object.keys(schema).filter( key => typeof schema[key]['properties']['pending_create'] !== 'undefined' )\r\n  }\r\n\r\n  protected serverFields(key: string): string[] {\r\n    const metaFields = schema[key]['ignoreList'];\r\n    const fieldList = [];\r\n    let j = 0;\r\n    for (const field in schema[key]['properties']) {\r\n      j++;\r\n      if (metaFields.indexOf(j) === -1) {\r\n        fieldList.push(field);\r\n      }\r\n    }\r\n    return fieldList;\r\n  }\r\n  \r\n  protected processField(field, obj, column) {\r\n    if (column['type'] === 'boolean') {\r\n      return (typeof obj[field] !== 'undefined' && (obj[field] === true || obj[field] === 1)) ? 1 : 0;\r\n    } else {\r\n      return obj[field];\r\n    }\r\n  }\r\n\r\n  private currentTime(): number {\r\n    return Math.round((new Date).getTime() / 1000);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/cache.service.ts","import { Component, ViewChild } from \"@angular/core\";\r\nimport { NavParams, Nav, NavController } from \"ionic-angular\";\r\nimport { FingerprintWrapper } from \"../../common\";\r\n//import { ContactComponent } from \"..\";\r\n\r\n@Component({\r\n  selector: 'jh-fingerprint-setup',\r\n  templateUrl: 'fingerprint-setup.html'\r\n})\r\nexport class FingerprintSetupComponent {\r\n  public fp_status: string = 'suggestion';\r\n  constructor(private fingerprint: FingerprintWrapper, public navParams: NavParams, private nav: NavController) {\r\n    const fp_name = localStorage.getItem('fingerprint');\r\n    if (fp_name === 'nextlogin') {\r\n      this.fp_status = 'setup';\r\n      this.showFingerprint();\r\n    }\r\n  }\r\n\r\n  showFingerprint() {\r\n    this.fingerprint.show().then( result => {\r\n      if (result) {\r\n        localStorage.setItem('fingerprint', this.navParams.data['username']);\r\n        localStorage.setItem('fingerprint_cipher', this.navParams.data['cipher']);\r\n        localStorage.setItem('fingerprint_enabled', 'true');\r\n        //this.nav.setRoot(ContactComponent);\r\n      }\r\n    }).catch( err => {\r\n      //this.nav.setRoot(ContactComponent);\r\n    });\r\n  }\r\n\r\n  noThanks() {\r\n    localStorage.setItem('fingerprint_enabled', 'false');\r\n    localStorage.removeItem('fingerprint');\r\n    //this.nav.setRoot(ContactComponent);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/fingerprint-setup.ts","import { Component, ViewChild } from \"@angular/core\";\r\nimport { NavParams, Nav, NavController } from \"ionic-angular\";\r\nimport { FingerprintWrapper } from \"../../common\";\r\nimport { LoginComponent } from \"..\";\r\n\r\n@Component({\r\n  selector: 'jh-terms',\r\n  templateUrl: 'terms.html'\r\n})\r\nexport class TermsPage {\r\n  constructor(public navParams: NavParams, private nav: NavController) {\r\n\r\n  }\r\n  agree() {\r\n    //this.nav.setRoot(ContactComponent);\r\n  }\r\n\r\n  decline() {\r\n    localStorage.removeItem('sf_oauth');\r\n    this.nav.setRoot(LoginComponent, {'logout': true });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/terms.ts","export * from './billing';\r\nexport * from './fingerprint';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/dialogs/index.ts","export * from './base.reducer';\r\nexport * from './meta.reducer';\r\nimport { schema } from '../schema';\r\nimport { BaseReducer } from './base.reducer';\r\nimport { metaReducer } from '.';\r\n\r\nexport const reducers = {\r\n    'meta': metaReducer\r\n};\r\n\r\nfor (let key in schema) if (! (''+key.toLowerCase() in reducers) ) {\r\n    key = key.toLowerCase();\r\n    const generic = new BaseReducer();\r\n    generic.REDUCER_TYPE = key;\r\n    generic.init();\r\n    reducers[key] = generic.getObjStore();\r\n    reducers[key + '_interactivity'] = generic.getInteractivityReducer();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.ts","import { upsert } from '../common/utils';\r\nimport { combineReducers } from '@ngrx/store';\r\nimport { schema } from '../schema';\r\n\r\n/**\r\n * BaseReducer\r\n * \r\n * This is the base reducer used to search, sort, and filter datasets.\r\n */\r\nexport class BaseReducer {\r\n  public REDUCER_TYPE = 'NOT_SET';\r\n  public default_sort = '-last_modified_date';\r\n  public nulls_last = true;\r\n  public initial_filter = { '0': {\r\n    'filter': obj => true,\r\n    'search': obj => true,\r\n    'sort': (a,b) => a['id'] < b['id'],\r\n    'current_filters': {},\r\n    'current_sort': this.default_sort,\r\n    'current_search': ''\r\n  } };\r\n  \r\n  public reducers = {\r\n    'update': this.doUpdate,\r\n    'insert': this.doInsert,\r\n    'set': this.doSet,\r\n    'delete': this.doDelete,\r\n    'update_pending': this.doUpdatePending\r\n  };\r\n\r\n  public interactions = {};\r\n\r\n  public clear_filter_on_search = false;\r\n  public clear_sort_on_search = false;\r\n\r\n  init() {\r\n    this.interactions = {\r\n      'search': this.buildSearch(),\r\n      'search_all': this.buildSearchAll(),\r\n      'sort': this.buildSort(),\r\n      'filter': this.buildFilter()\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * getObjStore\r\n   * \r\n   * Returns a function used to interact with a reducer which maps to the data schema\r\n   */\r\n  getObjStore() {\r\n    const $this = this;\r\n    return (state: any[] = [], action: any) => {\r\n      const actionType = action.type.replace('_' + $this.REDUCER_TYPE, '');\r\n      if ($this.reducers.hasOwnProperty(actionType)) {\r\n        return $this.reducers[actionType](state, action);\r\n      }\r\n      return state;\r\n    };\r\n  }\r\n\r\n  /**\r\n   * getInteractivityReducer\r\n   * \r\n   * Same as getObjStore, but strictly holds the reducer which tracks interactions on t he data set.\r\n   */\r\n  getInteractivityReducer() {\r\n    const $this = this;\r\n    return (state: any = this.initial_filter, action: any) => {\r\n      const actionType = action.type.replace('_' + $this.REDUCER_TYPE, '');\r\n      if ($this.interactions.hasOwnProperty(actionType)) {\r\n        return $this.interactions[actionType](state, action);\r\n      }\r\n      return state;\r\n    };\r\n  }\r\n\r\n  /**\r\n   * combineReducers\r\n   * \r\n   * Takes an data set and the interactivity reducer, which together make up that object's application state\r\n   * and return a combined reducer.   \r\n   */\r\n  combineReducers(objStore, interactivity) {\r\n    const combiner = {};\r\n    combiner[this.REDUCER_TYPE] = objStore;\r\n    combiner[this.REDUCER_TYPE + '_interactivity'] = interactivity;\r\n    return combineReducers(combiner);\r\n  }\r\n\r\n  \r\n  // ==================================================================\r\n  /**\r\n   * do*Operation*\r\n   * \r\n   * lambda functions referenced in the object store's properties to facilitate changes to the application state.\r\n   */\r\n  doUpdate(state, action) {\r\n    return upsert(state, [action.payload.data]);\r\n  }\r\n\r\n  doInsert(state, action) {\r\n    return [action.payload.data].concat(state);\r\n  }\r\n\r\n  doSet(state, action) {\r\n    const data = (typeof action.payload.data.push === 'function') ?\r\n      action.payload.data :\r\n      [action.payload.data];\r\n    return upsert(state, data);\r\n  }\r\n\r\n  doDelete(state, action) {\r\n    return state.filter(obj => obj.id !== action.payload.id);\r\n  }\r\n\r\n  doUpdatePending(state, action) {\r\n    return upsert(state, [action.payload.data], 'tempId');\r\n  }\r\n  \r\n  doReset(state, action) {\r\n    return this.initial_filter;\r\n  }\r\n\r\n  // ==================================================================\r\n  /**\r\n   * Filter Builders\r\n   * \r\n   * build* functions build and return a reducer function for performing \r\n   * operations on the dataset. For example, Search compiles the searchable \r\n   * fields for a given type and returns a function which can be run on the\r\n   * dataset to reduce it to only items which match the query.\r\n   */\r\n  buildUpdateState() {\r\n    return (state: any, key: string) => {\r\n      const newState = {};\r\n      newState[''+(parseInt(key)+1)] = state;\r\n      return newState;\r\n    }\r\n  }\r\n\r\n  buildSearchAll() {\r\n    return this.buildSearch(true);\r\n  }\r\n\r\n  canSearch(prop) {\r\n    return prop.hasOwnProperty('searchable') || \r\n      (prop.hasOwnProperty('indexed') && !prop.hasOwnProperty('not-searchable'));\r\n  }\r\n\r\n  buildSearch(search_all?) {\r\n    const fields = [];\r\n    const props = schema[this.REDUCER_TYPE]['properties'];\r\n    for (let field_name in props) {\r\n      if (search_all || this.canSearch(props[field_name])){\r\n        const property = props[field_name];\r\n        if (property['type'] === 'boolean') { \r\n          continue;\r\n        }\r\n\r\n        const searchMethod = (property['type'] === 'integer') ?\r\n          (val, query) => val === parseInt(query, 10) :\r\n          (property['type'] === 'datetime') ?\r\n          (val, query) => false && this.roundTime(val) === this.roundTime(query) :\r\n          (val, query) => {\r\n            if (typeof (val) === 'string' && val.toLowerCase().indexOf(query.toLowerCase()) !== -1) {\r\n              return true;\r\n            } else if (query.toLowerCase() === 'null' && val === null) {\r\n              return true;\r\n            }\r\n            return false;\r\n        };\r\n\r\n        fields.push([field_name, searchMethod]);\r\n      }\r\n    }\r\n    const updateState = this.buildUpdateState();\r\n    return (state: any, action: any) => {\r\n      const curState = Object.keys(state)[0];\r\n      state = state[curState];\r\n      if (action.payload.data === '') {\r\n        state['search'] = obj => true;\r\n      } else {\r\n        const searchTerm = action.payload.data;\r\n        state['search'] = obj => {\r\n          for (let i = 0; i < fields.length; i++) {\r\n            if (!obj.hasOwnProperty(fields[i][0])) {\r\n              console.log('MISSING PROPERTY');\r\n              continue;\r\n            }\r\n            if (fields[i][1](obj[fields[i][0]], searchTerm)) {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return updateState(state, curState);\r\n    }\r\n  }\r\n\r\n  buildFilter() {\r\n    const updateState = this.buildUpdateState();\r\n    const fields = {};\r\n\r\n    const props = schema[this.REDUCER_TYPE]['properties'];\r\n    for (let prop in props) {\r\n      const propType = props[prop]['type'];\r\n      fields[prop] =\r\n        (propType === 'datetime') ?\r\n          (val, query) => {\r\n            // @todo: Handle datetime enums like TODAY, LAST WEEK...\r\n            return false;\r\n          } :\r\n          (propType === 'boolean') ?\r\n            (val, query) => ((val === true && query === 'true')\r\n              || (val === false && query === 'false')) :\r\n            (propType.indexOf('[]') !== -1) ?\r\n              (val, query) => {\r\n                return val.indexOf(query) !== -1;\r\n              } :\r\n              (val, query) => {\r\n                if (val === null || query === null || typeof val === 'undefined' || typeof val.toLowerCase === 'undefined' || typeof query.toLowerCase === 'undefined') {\r\n                  return val === query;\r\n                }\r\n                return val.toLowerCase() === query.toLowerCase();\r\n              };\r\n\r\n    }\r\n    return (state: any , action: any) => {\r\n      const curState = Object.keys(state)[0];\r\n      state = state[curState];\r\n      if (action.payload.data === '') {\r\n        state['filter'] = obj => true;\r\n        return state;\r\n      } else {\r\n        const key = Object.keys(action.payload.data)[0];\r\n        state['current_filters'][key] = action.payload.data[key];\r\n        let empty = true;\r\n        for (let key in state['current_filters']) {\r\n          if (state['current_filters'][key] === '') {\r\n            delete state['current_filters'][key];\r\n          } else {\r\n            empty = false;\r\n          }\r\n        }\r\n        if (empty) {\r\n          state['filter'] = obj => true;\r\n          return updateState(state, curState);\r\n        }\r\n        state['filter'] = obj => {\r\n          for (let key in state['current_filters']) {\r\n            let compare = obj;\r\n            if (key.indexOf('.') !== -1) {\r\n              const path = key.split('.');\r\n              for (let i=0; i<path.length; i++) {\r\n                if (compare.hasOwnProperty(path[i])) {\r\n                  compare = compare[path[i]];\r\n                } else {\r\n                  return false;\r\n                }\r\n              }\r\n            } else {\r\n              compare = obj[key];\r\n            }\r\n            if (!fields[key](compare, state['current_filters'][key])) {\r\n              return false;\r\n            }\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n      return updateState(state, curState);\r\n    }\r\n  }\r\n\r\n  buildSort() {\r\n    const updateState = this.buildUpdateState();\r\n    const fields = {};\r\n\r\n    const props = schema[this.REDUCER_TYPE]['properties'];\r\n    for (let prop in props) {\r\n      const propType = props[prop]['type'];\r\n      fields[prop] =\r\n        (propType === 'datetime') ?\r\n          (val, query) => {\r\n            // @todo: Handle datetime enums like TODAY, LAST WEEK...\r\n            return false;\r\n          } :\r\n          (propType === 'boolean') ?\r\n            (val, query) => ((val === true && query === 'true')\r\n              || (val === false && query === 'false')) :\r\n            (propType.indexOf('[]') !== -1) ?\r\n              (val, query) => {\r\n                return val.indexOf(query) !== -1;\r\n              } :\r\n              (val, query) => {\r\n                return val.toLowerCase() === query.toLowerCase();\r\n              };\r\n\r\n    }\r\n    return (state: any, action:any) => {\r\n      const curState = Object.keys(state)[0];\r\n      state = state[curState];\r\n      let lt = false;\r\n      if (action.payload.data === '') {\r\n        state['current_sort'] = this.default_sort;\r\n      } else {\r\n        state['current_sort'] = action.payload.data;\r\n      }\r\n      let field = '';\r\n      if (state['current_sort'][0] === '-') {\r\n        lt = true;\r\n        field = state['current_sort'].substring(1);\r\n      }\r\n  \r\n      if (lt) {\r\n        state['sort'] = (a,b) => a[field] < b[field];\r\n      } else {\r\n        state['sort'] = (a,b) => a[field] > b[field];\r\n      }\r\n      return updateState(state, curState);\r\n    }\r\n  }\r\n\r\n  roundTime(time) {\r\n    return 0;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/base.reducer.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule, ErrorHandler } from '@angular/core';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { AppComponent } from './app.component';\r\nimport { HttpModule } from '@angular/http';\r\nimport {StoreModule} from '@ngrx/store';\r\n\r\nimport { LoginComponent, SettingsComponent } from '../pages';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport { reducers, BaseReducer } from '../reducers';\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\r\nimport { MatAutocompleteModule,\r\n  MatButtonModule,\r\n  MatButtonToggleModule,\r\n  MatCardModule,\r\n  MatCheckboxModule,\r\n  MatChipsModule,\r\n  MatDatepickerModule,\r\n  MatDialogModule,\r\n  MatExpansionModule,\r\n  MatFormFieldModule,\r\n  MatGridListModule,\r\n  MatIconModule,\r\n  MatInputModule,\r\n  MatListModule,\r\n  MatMenuModule,\r\n  MatNativeDateModule,\r\n  MatPaginatorModule,\r\n  MatProgressBarModule,\r\n  MatProgressSpinnerModule,\r\n  MatRadioModule,\r\n  MatRippleModule,\r\n  MatSelectModule,\r\n  MatSidenavModule,\r\n  MatSliderModule,\r\n  MatSlideToggleModule,\r\n  MatSnackBarModule,\r\n  MatSortModule,\r\n  MatTableModule,\r\n  MatTabsModule,\r\n  MatToolbarModule,\r\n  MatTooltipModule,\r\n  MatStepperModule } from '@angular/material';\r\n  \r\nimport {CdkTableModule} from '@angular/cdk/table';\r\nimport { BaseService, SalesforceService, DetailService, CacheService, SObjectService, CheckinService, InvoiceService, ClaimService } from '../services';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchComponent, RateFormatPipe, TimeEstimatePipe, PendingComponent, StaticMapComponent, DateTimePickerComponent, SJCLWrapper, FingerprintWrapper } from '../common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { BillingDialog, FingerprintSignInDialog } from '../pages/settings/dialogs';\r\nimport { FingerprintSetupComponent } from '../pages/login/fingerprint-setup';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\n\r\nimport { DatePicker } from '@ionic-native/date-picker';\r\nimport { TermsPage } from '../pages/login/terms';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    SearchComponent,\r\n    RateFormatPipe,\r\n    TimeEstimatePipe,\r\n    PendingComponent,\r\n    StaticMapComponent,\r\n    SettingsComponent,\r\n    BillingDialog,\r\n    FingerprintSignInDialog,\r\n    FingerprintSetupComponent,\r\n    DateTimePickerComponent,\r\n    TermsPage\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    CommonModule,\r\n    CdkTableModule,\r\n    FormsModule,\r\n    HttpModule,\r\n    HttpClientModule,\r\n    MatAutocompleteModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatExpansionModule,\r\n    MatFormFieldModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,    \r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatStepperModule,\r\n    ReactiveFormsModule,\r\n    StoreModule.forRoot(reducers),\r\n    IonicModule.forRoot(AppComponent),\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    SearchComponent,\r\n    PendingComponent,\r\n    StaticMapComponent,\r\n    SettingsComponent,\r\n    BillingDialog,\r\n    FingerprintSignInDialog,\r\n    FingerprintSetupComponent,\r\n    DateTimePickerComponent,\r\n    TermsPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    BaseService,\r\n    BaseReducer,\r\n    SalesforceService,\r\n    CacheService,\r\n    SObjectService,\r\n    DetailService,\r\n    CheckinService,\r\n    SJCLWrapper,\r\n    InvoiceService,\r\n    ClaimService,\r\n    FingerprintWrapper,\r\n    DatePicker,\r\n    LocalNotifications,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\r\n\r\nimport { Platform, MenuController, Nav, MenuToggle, Navbar } from 'ionic-angular';\r\n\r\nimport { LoginComponent, \r\n  //ContactComponent, \r\n  SettingsComponent\r\n  //InvoicesComponent, CheckInPage \r\n} from '../pages';\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { MatSidenav, MatIconRegistry } from '@angular/material';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { TermsPage } from '../pages/login/terms';\r\n\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class AppComponent {\r\n  @ViewChild(Nav) nav: Nav;\r\n  @ViewChild(MatSidenav) sidenav: MatSidenav;\r\n\r\n  rootPage = LoginComponent;\r\n  pages = {\r\n    'settings': SettingsComponent\r\n    //'patients': ContactComponent,\r\n    //'invoices': InvoicesComponent\r\n  }\r\n\r\n  constructor(\r\n    public platform: Platform,\r\n    public menu: MenuController,\r\n    public statusBar: StatusBar,\r\n    public splashScreen: SplashScreen,\r\n    public iconRegistry: MatIconRegistry,\r\n    public sanitizer: DomSanitizer\r\n  ) {\r\n    this.initializeApp();\r\n  }\r\n\r\n  /**\r\n   * initializeApp\r\n   * \r\n   * Any code that needs to run right after platform ready goes here.\r\n   * Currently sets up the icon database, app styles, and removes the splashscreen.\r\n   */\r\n  initializeApp() {\r\n    this.platform.ready().then(() => {\r\n      this.iconRegistry.addSvgIcon(\r\n        'check-in',\r\n        this.sanitizer.bypassSecurityTrustResourceUrl('./assets/icon/clock-in.svg')\r\n      ).addSvgIcon(\r\n        'check-out',\r\n        this.sanitizer.bypassSecurityTrustResourceUrl('./assets/icon/clock-out.svg')\r\n      ).addSvgIcon(\r\n        'timetable',\r\n        this.sanitizer.bypassSecurityTrustResourceUrl('./assets/icon/timetable.svg')\r\n      );\r\n      this.statusBar.styleDefault();\r\n      //Before running this, check status of login details\r\n      this.splashScreen.hide();\r\n    });\r\n  }\r\n\r\n  openPage(page: string) {\r\n    this.menu.close();\r\n    if (page === 'settings') {\r\n      this.nav.push(this.pages[page]);\r\n    } else {\r\n      this.nav.setRoot(this.pages[page]);\r\n    }\r\n  }\r\n\r\n  public logout() {\r\n    localStorage.removeItem('sf_oauth');\r\n    this.nav.setRoot(LoginComponent, {'logout': true });\r\n    this.menu.close();\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Component, ViewChild} from '@angular/core';\r\nimport {Store} from '@ngrx/store';\r\nimport { SalesforceService } from '../../services';\r\n//import { ContactComponent } from '../contacts/contacts';\r\nimport { Nav, NavParams, NavController } from 'ionic-angular';\r\nimport { CacheService } from '../../services/cache.service';\r\nimport { FingerprintWrapper, SJCLWrapper } from '../../common';\r\nimport { FingerprintSetupComponent } from './fingerprint-setup';\r\nimport { TermsPage } from './terms';\r\n\r\n/**\r\n * Login Object\r\n * \r\n * Describes the form structure for a typical login.\r\n */\r\nexport class Login {\r\n  constructor(\r\n    public username?: string,\r\n    public password?: string,\r\n    public encrypted?: boolean\r\n  ) {  }\r\n}\r\n\r\n\r\n/**\r\n * LoginComponent\r\n * \r\n * Provides interactivity for the login screen.\r\n */\r\n@Component({\r\n  selector: 'jh-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginComponent {\r\n  public model = new Login();\r\n  public selectedTab = 0;\r\n  public loading = true;\r\n  public fingerprint_enabled = false;\r\n  public error = '';\r\n  \r\n  constructor(public store: Store<any[]>, public sforce: SalesforceService,\r\n              private cacher: CacheService, private fingerprint: FingerprintWrapper, \r\n              private sjcl:SJCLWrapper, private navParams: NavParams, private nav:NavController) {    \r\n    \r\n    //If the user is currently logged in, reload their credentials\r\n    let oauthData = localStorage.getItem('sf_oauth');\r\n    if (oauthData !== null && oauthData) {\r\n      oauthData = JSON.parse(oauthData);\r\n    }\r\n\r\n    //Timeout to set loading to false if querying salesforce fails.\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n    }, 8000);\r\n\r\n    //Initializes salesforce connection\r\n    this.sforce.init({\r\n      appId: '3MVG9d3kx8wbPieHBpF8GIw2hY.rWIkaI.5M71yZGZKXw0pTThTrymPHZNPinLkvJno7m4bhW6Gylu2vxUqF8',\r\n      apiVersion: 'v39.0',\r\n      loginURL: 'https://portaldev6-jhltc.cs91.force.com/provider',\r\n      oauthCallbackURL: 'http://localhost:8100/assets/oauthcallback.html',\r\n      oauth: oauthData\r\n    });\r\n\r\n    if (oauthData) {\r\n      const userId = this.sforce.getUserId()\r\n      this.sforce.query('SELECT Id, Name FROM Account WHERE Id = \\'' + userId + '\\' LIMIT 1').then(data => {\r\n        this.unlockCacher();\r\n        \r\n      }).catch(err => {\r\n        this.loading = false;\r\n      });\r\n    } else {\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 300);\r\n      \r\n      this.setupFingerprintLogin();\r\n      \r\n\r\n    }\r\n   }\r\n\r\n\r\n   /**\r\n    * unlockCacher\r\n    * \r\n    * Using the user's login creds, unlock an encrypted cache database\r\n    */\r\n   unlockCacher() {\r\n     \r\n     this.cacher.unlockDatabase().then( success => {          \r\n      // Console logging for debug purposes\r\n      if (success) {            \r\n        console.log('cache enabled');  \r\n      } else {\r\n        console.log('no caching');\r\n      }\r\n\r\n      this.gotoRoot();          \r\n    }).catch(e => {\r\n      console.log('no caching');\r\n      this.gotoRoot();\r\n    });\r\n   }\r\n\r\n\r\n   /**\r\n    * setupFingerprintLogin\r\n    * \r\n    * If the device is linked to a fingerprint database and the fingerprint is linked to an ISAM login, show the fingerprint dialog and button\r\n    */\r\n   setupFingerprintLogin() { \r\n    if (localStorage.getItem('fingerprint_enabled') === 'true' && localStorage.getItem('fingerprint') !== 'nextlogin') {\r\n      this.fingerprint.isAvailable().then(result => {\r\n        if (result) {\r\n          this.fingerprint_enabled = true;\r\n          if (typeof this.navParams.data === 'undefined' || this.navParams.data['logout'] !== true) {\r\n            setTimeout(() => {\r\n              this.showFingerprint();\r\n            }, 2000);              \r\n          }\r\n        }\r\n      });\r\n    }\r\n   }\r\n\r\n  onSubmit() {\r\n    if (typeof this.model.password === 'undefined') {\r\n        return false;\r\n    }\r\n    try {\r\n      this.cacher.unlockDatabase(this.model.password, true);\r\n    } catch (e) { }\r\n\r\n    this.sforce.jhLogin(this.model.username, this.model.password).then( data => {\r\n      if (this.needFingerprintSetup()) {\r\n        this.nav.setRoot(FingerprintSetupComponent, {'username': this.model.username, 'cipher': this.sjcl.encrypt(this.model.password)});\r\n      } else {\r\n        this.gotoRoot();\r\n      }\r\n    }, err => {\r\n      this.error = err;\r\n    });\r\n\r\n    // var $this = this;\r\n    // this.loginService.doLogin(this.model.username, this.model.password, function(data: any) {\r\n        // $this.router.navigate(['/todo']);\r\n    // }); \r\n  }\r\n\r\n  /**\r\n   * loginWithSalesforce\r\n   * \r\n   * While ISAM is not currently fully available, allows developers and testers to log into the app using\r\n   * a salesforce community user email and password.\r\n   */\r\n  loginWithSalesforce() {\r\n    this.sforce.login().then( data => {\r\n      localStorage.setItem('sf_oauth', JSON.stringify(data));\r\n      if (this.needFingerprintSetup()) {\r\n        const userid = data.id.split('/').pop();\r\n        this.nav.setRoot(FingerprintSetupComponent, {'username': userid, 'cipher': this.sjcl.encrypt(userid)});\r\n      } else {\r\n        this.gotoRoot();\r\n      }\r\n    }, e => {\r\n      console.log('Error', e);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * needFingerprintSetup\r\n   * \r\n   * Checks to see if the user needs to be redirected to fingerprint setup as its next step in the setup pipeline\r\n   */\r\n  needFingerprintSetup() {\r\n    return (\r\n      (localStorage.getItem('fingerprint_enabled') === 'true' && localStorage.getItem('fingerprint') === 'nextlogin')\r\n      || (localStorage.getItem('fingerprint_enabled') === null && localStorage.getItem('fingerprint') === null)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * showFingerprint\r\n   * \r\n   * Shows the fingerprint login prompt. On success, logs the user in.\r\n   */\r\n  showFingerprint() {\r\n    this.fingerprint.show().then( result => {\r\n      if (result) {\r\n        this.model.username = localStorage.getItem('fingerprint');\r\n        this.model.password = this.sjcl.decrypt(localStorage.getItem('fingerprint_cipher'));\r\n        this.onSubmit();\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  gotoRoot() {\r\n    this.nav.setRoot(TermsPage);\r\n  }\r\n\r\n  setTab(index: number) {\r\n    this.selectedTab = index;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","/*tshint disable: no-bitwise*/\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {Http, Headers} from '@angular/http';\r\nimport { Store } from '@ngrx/store';\r\nimport { CacheService } from './cache.service';\r\nimport { schema } from '../schema';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/observable/combineLatest';\r\n\r\n\r\n\r\n@Injectable()\r\nexport class BaseService {\r\n  items: Observable<any>;\r\n  filteredItems: Observable<any>;\r\n  protected formHeader: Headers;\r\n  protected basicHeader: Headers;\r\n  protected user;\r\n  protected objMode = true;\r\n  protected data;\r\n  public cacher;\r\n  protected lastItemInList: any;\r\n  protected currentSort: string;\r\n  protected schema: any;\r\n  public type: string;\r\n  public meta: Observable<any>;\r\n\r\n  protected options = {\r\n    requiresAuth: false,\r\n    baseUrl: '/api/',\r\n    restUrl: '',\r\n    clearOnSearch: false,\r\n  };\r\n\r\n  constructor(protected http: Http, protected store: Store<any>) { }\r\n\r\n  /**\r\n   * Initializes the service. Ensures required values are set.\r\n   */\r\n  init(config) {\r\n    if (!config.hasOwnProperty('type')) {\r\n      throw 'Service must have property \\'type\\'';\r\n    }\r\n\r\n    for (let key in config) {\r\n      this.options[key] = config[key];\r\n    }\r\n\r\n    this.type = this.options['type'];\r\n\r\n    if (!''+this.type.toLowerCase() in schema) {\r\n      throw 'Object type \\'' + this.type + '\\' not found in schema';\r\n    }\r\n    \r\n\r\n    this.schema = schema[this.type.toLowerCase()];\r\n    this.meta = this.store.select('meta');\r\n    this.items = this.store.select(this.type);\r\n    if (this.options.restUrl.length === 0) {\r\n      this.options['restUrl'] = this.options['baseUrl'] + this.type;\r\n    }\r\n    this.buildFilteredList();\r\n  }\r\n\r\n  /**\r\n   * Builds and saves the active application state associated with this instance of the service.\r\n   * This filtered list will reflect search, sort, and filter operations applied to it.\r\n   */\r\n  buildFilteredList() {\r\n    var interactiveStore = this.store.select(this.type + '_interactivity');\r\n    this.filteredItems = Observable.combineLatest(\r\n      this.store.select(this.type),\r\n      interactiveStore,\r\n      (objs: any, interactivityFilter: any) => {\r\n        if (typeof interactivityFilter === 'undefined') {\r\n          return objs;\r\n        }\r\n        var f = interactivityFilter[Object.keys(interactivityFilter)[0]];\r\n        if (f.pending && this.options.clearOnSearch) {\r\n          return [];\r\n        }\r\n        var items = objs.filter(f.filter).filter(f.search).sort(f.sort);\r\n        // this.cacher.filteredItemCount = items.length;\r\n        this.lastItemInList = items[items.length - 1];\r\n        this.currentSort = f.current_sort;\r\n        return items;\r\n      }\r\n    );\r\n  }\r\n\r\n  handlePayloadData(operation, data){\r\n    for (let key in data) {\r\n      if (key !== this.type) {\r\n        this.data = this.store.select(key);\r\n      }\r\n      console.log('store dispatch :' +operation+'_'+key);\r\n      this.store.dispatch({\r\n        type:operation+'_'+key,\r\n        payload: {'data': data[key]}\r\n      });\r\n\r\n      if (key !== this.type) {\r\n        this.store.select(this.type);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets a value in the application metadata.\r\n   */\r\n  public setMetadata(payload: Object) {\r\n    this.store.select('meta');\r\n    this.store.dispatch({\r\n      type: 'set_meta',\r\n      payload: payload\r\n    });\r\n    this.store.select(this.type);\r\n  }\r\n\r\n  search(query) {\r\n    this.doSearch(query);\r\n  }\r\n\r\n  doSearch(query) {\r\n    this.store.select(this.type + '_interactivity');\r\n    this.store.dispatch({\r\n      type: 'search_' + this.type,\r\n      payload: { data: query }\r\n    });\r\n    this.store.select(this.type);\r\n    //@todo: implement (call getAll with url_query set)\r\n  }\r\n\r\n  filter(field, query) {\r\n    this.store.select(this.type + '_interactivity');\r\n    const filterData = {};\r\n    filterData[field] = query;\r\n    this.store.dispatch({\r\n      type: 'filter_' + this.type,\r\n      payload: { data: filterData }\r\n    });\r\n    this.store.select(this.type)\r\n  }\r\n  \r\n\r\n  getAll(params: any) {\r\n    var url = this.options.restUrl;\r\n    this.store.dispatch({\r\n      type: 'pending_' + this.type,\r\n      payload: true\r\n    });\r\n    this.http.get(url, {headers:this.basicHeader})\r\n      .map(res => res.json())\r\n      .subscribe(payload => {\r\n        this.store.dispatch({\r\n          type: 'pending_' + this.type,\r\n          payload: false\r\n        });\r\n        //@todo: handle standard network returns\r\n        \r\n        this.handlePayloadData('set', payload.data);\r\n        if (typeof params !== 'undefined' && params.callback === 'function')\r\n          params.callback(payload);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Restful get of a single data object.\r\n   */\r\n  get(id, callback?) {\r\n    this.http.get(this.options.restUrl + '/' + id, {headers:this.basicHeader})\r\n      .map(res => res.json())\r\n      .subscribe(payload => {\r\n        this.handlePayloadData('set', payload.data)\r\n        if (typeof callback === 'function')\r\n          callback(payload);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Create call\r\n   */\r\n  beforeCreate(newObj, parentObject?) {\r\n    var user = this.user;\r\n    newObj['created_date'] = new Date().getTime();\r\n    newObj['last_modified_date'] = new Date().getTime();\r\n    if (typeof user !== 'undefined' && user.id) {\r\n      newObj['last_modified_user_id'] = user.id;\r\n      newObj['owner_user_id'] = user.id;\r\n    }\r\n    return newObj; \r\n  }\r\n\r\n  async create(newObj, callback?, parentObject?): Promise<{}> {\r\n    newObj = this.beforeCreate(newObj, parentObject);\r\n    if (newObj.hasOwnProperty('id'))\r\n      throw 'New object cannot have property, \\'id\\'';\r\n    var postData = '';\r\n    for (let key in newObj) {\r\n      postData += key + '=' + encodeURIComponent(newObj[key]) + '&';\r\n    }\r\n    var promise = this.http.post( \r\n      this.options.restUrl,\r\n      postData.substring(0,postData.length-1),\r\n      {headers: this.formHeader}\r\n    );\r\n    \r\n    newObj['pending'] = true;\r\n    newObj['tempId'] = this.uuid(false);\r\n\r\n    this.store.dispatch({\r\n      type: 'insert_'+this.type,\r\n      payload: { data: newObj }\r\n    });\r\n\r\n    promise.map(res => res.json())\r\n    .subscribe(payload => {\r\n      if (this.afterCreate(payload, newObj)){\r\n        this.store.dispatch({\r\n          type:'update_pending_'+this.type,\r\n          payload: { data: payload.data }\r\n        });\r\n        if (typeof callback === 'function')\r\n          callback(payload);\r\n      }\r\n    });\r\n    return promise;\r\n  }\r\n  afterCreate(payload, data) { return data; }\r\n\r\n\r\n  /**\r\n   * Update call\r\n   */\r\n  beforeUpdate(updates) { \r\n    var user = this.user;\r\n    updates['last_modified_date'] = new Date().getTime();\r\n    if (typeof user !== 'undefined' && user.id) {\r\n      updates['last_modified_user_id'] = user.id;\r\n    }\r\n    return updates; \r\n  }\r\n  async update(updates, callback?) {\r\n    var $this = this;\r\n    var postData = '';\r\n    updates = this.beforeUpdate(updates);    \r\n\r\n    if (!updates.hasOwnProperty('id'))\r\n      throw 'Update statement requires an ID';\r\n    \r\n    for (let key in updates) {\r\n      if (key != 'id')\r\n      postData += key + '=' + encodeURIComponent(updates[key]) + '&';\r\n    }\r\n\r\n    var promise = this.http.put( \r\n      this.options.restUrl + '/' + updates.id,\r\n      postData.substring(0,postData.length-1),\r\n      {headers: this.formHeader}\r\n    );\r\n\r\n    updates['pending'] = true;\r\n    updates['tempId'] = this.uuid(false);\r\n\r\n    $this.store.dispatch({type:'update_'+this.type, payload:{data: updates} });\r\n    \r\n    promise\r\n      .map(res => res.json())\r\n      .subscribe(response => {\r\n        updates['pending'] = false;\r\n        if (this.afterUpdate(updates)) {\r\n          this.store.dispatch({\r\n            type:'update_pending_'+this.type,\r\n            payload: { data: updates }\r\n          });\r\n\r\n          if (typeof callback === 'function') {\r\n            callback(updates);\r\n          }\r\n        }\r\n      });\r\n  }\r\n  afterUpdate(payload) { return true; }\r\n\r\n  /**\r\n   * Delete call\r\n   */\r\n  beforeDelete(object) { \r\n    var user = this.user;\r\n    object['lastModifiedDate'] = new Date().getTime();\r\n    if (typeof user !== 'undefined' && user.id) {\r\n      object['lastModifiedBy'] = user.id;\r\n    }\r\n    return object; \r\n  }\r\n  delete(object, callback?) {\r\n    object = this.beforeDelete(object);\r\n    if (!object.hasOwnProperty('id')){\r\n      throw 'Delete statement requires an ID';\r\n    }\r\n    this.http.delete( \r\n      this.options.restUrl + '/' + object.id,\r\n      {headers: this.basicHeader}\r\n    )\r\n    .map(res => res.json())\r\n    .map(payload => ({type: 'delete_' + this.type, payload}))\r\n    .subscribe(action => {\r\n      if (this.afterDelete(action.payload)){\r\n        this.store.dispatch(action);\r\n        if (typeof callback === 'function')\r\n          callback(action.payload);\r\n      }\r\n    });\r\n  }\r\n  afterDelete(payload) { return true; }\r\n\r\n  /**\r\n   * Helper Functions\r\n   */\r\n  protected hasProperty(prop: string) {\r\n    return prop in schema[this.type]['properties'];\r\n  }\r\n\r\n  /**\r\n   * Returns a uuid\r\n   */\r\n  uuid(a:any) { return a ? \r\n    (a^Math.random()*16>>a/4).toString(16):\r\n    (\"\"+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,this.uuid);\r\n  }\r\n\r\n  /**\r\n   * Strips any characters which aren't alphanumeric (a-z, 0-9, period, undershift, dash)\r\n   */\r\n  alphanumeric(s:string) {\r\n    return s.replace(/[^a-z0-9._-]/gi, '');\r\n  }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/base.service.ts","import { Injectable, NgZone } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {Http, RequestOptions, Headers, ResponseContentType} from '@angular/http';\r\nimport { Store } from '@ngrx/store';\r\nimport 'rxjs/add/operator/map';\r\nconst BASE_URL = '/api/';\r\nconst LOCALIZED_LOGIN = false;\r\n@Injectable(\r\n  \r\n)\r\nexport class SalesforceService {\r\n  private loginURL: string = 'https://portaldev6-jhltc.cs91.force.com/provider';//'https://test.salesforce.com';\r\n  private communityUrl: string = 'https://portaldev6-jhltc.cs91.force.com/provider/';\r\n  private scopeParameters: Array<string> = ['full'];\r\n  private appId: string = '3MVG9d3kx8wbPieHBpF8GIw2hY.rWIkaI.5M71yZGZKXw0pTThTrymPHZNPinLkvJno7m4bhW6Gylu2vxUqF8';\r\n  private apiVersion: string = 'v37.0';\r\n  private oauth: any;\r\n  private tokenStore: any = {};\r\n  private context: string = window.location.pathname.substring(0, window.location.pathname.lastIndexOf(\"/\"));\r\n  private serverURL: string = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\r\n  private baseURL: string = this.serverURL + this.context;\r\n  private proxyURL: string = 'https://ltc-cors-proxy.herokuapp.com/';\r\n  private oauthCallbackURL: string = this.baseURL + '/oauthcallback.html';\r\n  private useProxy: boolean = (!((<any>window).cordova || (<any>window).SfdcApp));\r\n  private onlyOne: boolean = true;\r\n  private prefix: string = '/services/oauth2/';\r\n\r\n  private deferredLogin: {\r\n    resolve: any,\r\n    reject: any\r\n  };\r\n\r\n  public data: any = {\r\n    name: 'Guest',\r\n    token: null\r\n  }\r\n  private headers = new Headers({'Content-Type': 'application/x-www-form-urlencoded'});\r\n  constructor(private http: Http, private store: Store<any[]>, private zone: NgZone) {\r\n    (<any>window).angularComponentRef = {\r\n        zone: this.zone,\r\n        componentFn: (value) => this.oauthCallback(value),\r\n        component: this\r\n    };\r\n    this.deferredLogin = {\r\n        resolve: undefined,\r\n        reject: undefined\r\n    };\r\n  }\r\n\r\n  public init(params: any) {\r\n    if (params) {\r\n      this.appId = params.appId || this.appId;\r\n      this.apiVersion = params.apiVersion || this.apiVersion;\r\n      this.loginURL = params.loginURL || this.loginURL;\r\n      this.oauthCallbackURL = params.oauthCallbackURL || this.oauthCallbackURL;\r\n      this.proxyURL = params.proxyURL || this.proxyURL;\r\n      this.useProxy = params.useProxy === undefined ? this.useProxy : params.useProxy;\r\n\r\n      if (params.oauth) {\r\n        this.oauth = params.oauth;\r\n      }\r\n\r\n      if (params.accessToken) {\r\n          if (!this.oauth) this.oauth = {};\r\n          this.oauth.access_token = params.accessToken;\r\n      }\r\n\r\n      if (params.instanceURL) {\r\n          if (!this.oauth) this.oauth = {};\r\n          this.oauth.instance_url = params.instanceURL;\r\n      }\r\n\r\n      if (params.refreshToken) {\r\n          if (!this.oauth) this.oauth = {};\r\n          this.oauth.refresh_token = params.refreshToken;\r\n      }\r\n    }\r\n  }\r\n\r\n  public async jhLogin(username: string, password: string): Promise<any> {\r\n    return new Promise( (resolve, reject) => {\r\n      username = encodeURIComponent(username);\r\n      password = encodeURIComponent(password);\r\n      const url = 'https://test.usc.jhancock.com/pkmslogin.form?token=Unknown';\r\n\r\n      //var headers = new Headers();\r\n      //headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n      //headers.append('Accept', 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8');\r\n      //headers.append('Accept-Language', 'en-US,en;q=0.9');\r\n\r\n      //GET form to get the set-cookie\r\n\r\n      /*const setup = new XMLHttpRequest();\r\n      setup.addEventListener(\"load\", function(data) {\r\n        console.log(data);\r\n        console.log(this);\r\n      });\r\n      setup.open(\"GET\", url);\r\n      setup.setRequestHeader('Access-Control-Expose-Headers', 'Set-Cookie');\r\n      setup.send();\r\n\r\n      var optionInput: any;\r\n\r\n      const data = 'username='+username+'&password='+password+'&login-form-type=pwd';\r\n      optionInput = {\r\n        headers: headers,\r\n        method: 'POST',\r\n        data: data\r\n      };\r\n\r\n\r\n      let options = new RequestOptions(optionInput);\r\n      this.http.post(url, data, options).subscribe( result => {\r\n        console.log(result);\r\n        //<!-- ERROR_TEXT = HPDIA0200W   Authentication failed. You have used an invalid user name, password or client certificate. -->\r\n\r\n        //Search for error text, if exists add to page.\r\n        debugger;\r\n      });*/\r\n\r\n      const windowInstance: any = window.open(url, '_blank', 'location=no,clearsessioncache=yes,clearcache=yes,toolbar=no,enableviewportscale=yes,hidden=yes');\r\n      let firstAttempt = true;\r\n      windowInstance.addEventListener('loadstop', e => {\r\n\r\n        windowInstance.executeScript({\r\n          code: `const doc = document;\r\n          for (const node of doc.body.children) {\r\n            node.style.setProperty('display', 'none');\r\n          }\r\n      \r\n          doc.body.style.setProperty('background', 'linear-gradient(135deg, #006BA6 0%, #005990 50%, #092759 100%)');\r\n          doc.body.style.setProperty('height', '100%');\r\n          doc.getRootNode().children[0].style.setProperty('height', '100%');\r\n          doc.body.style.setProperty('width', '100%');\r\n          doc.body.style.setProperty('align-items', 'center');\r\n          doc.body.style.setProperty('display', 'flex');\r\n          \r\n          const loginHtml = \\`<form id='mobileLogin' name=\"register\" method=\"POST\" action=\"/pkmslogin.form?token=Unknown\" style=\"padding: 0 48px; transform: none; width: 100%\">\r\n            <style>.footer { display:none!important } </style>\r\n            <div>\r\n              <div class=\"logo-wrapper\" style=\"text-align: center;margin-bottom: 5rem;\" >\r\n                <img src=\"data:image/png;base64,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\">\r\n              </div>\r\n              <h1 style=\"color: white; font-weight: 200; margin: 0 0 48px; font-size: 24px;\">LTC Provider Login</h1>\r\n              <div id=\"errorMessage\"></div>\r\n            <div style=\"position:relative; margin-bottom: 4rem;\"><div class=\"mat-input-flex mat-form-field-flex\">\r\n              <div>\r\n              <input id='mobileUsername'  name='username' style=\"font: inherit; background: 0 0; color: white; border: none; outline: 0; padding: 0; margin: 0; width: 100%; max-width: 100%; vertical-align: bottom; text-align: inherit; caret-color: rgba(255, 255, 255, 0.5);\">\r\n            <span class=\"mat-form-field-label-wrapper mat-input-placeholder-wrapper mat-form-field-placeholder-wrapper\" style=\"top: -0.84375em; padding-top: 0.84375em; position: absolute; left: 0; box-sizing: content-box; width: 100%; height: 100%; overflow: hidden; pointer-events: none;\">\r\n            <label style=\"transform: translateY(-1.28125em) perspective(100px) translateZ(0.001px);color: rgba(255, 255, 255, 0.7);display: block;width: 100%;font-size: 1.3rem;\">\r\n            Username\r\n            </label></span></div><!--bindings={\r\n      \"ng-reflect-ng-if\": \"0\"\r\n      }--></div><div class=\"mat-input-underline mat-form-field-underline\" style=\"background-color: rgba(255, 255, 255, 0.7);position: absolute;height: 1px;width: 100%;\"><span class=\"mat-input-ripple mat-form-field-ripple\"></span></div><div class=\"mat-input-subscript-wrapper mat-form-field-subscript-wrapper\" ng-reflect-ng-switch=\"hint\"><!--bindings={\r\n      \"ng-reflect-ng-switch-case\": \"error\"\r\n      }--><!--bindings={\r\n      \"ng-reflect-ng-switch-case\": \"hint\"\r\n      }--><div class=\"mat-input-hint-wrapper mat-form-field-hint-wrapper ng-tns-c3-0 ng-trigger ng-trigger-transitionMessages ng-star-inserted\" style=\"opacity: 1; transform: translateY(0%);\"><!--bindings={\r\n      \"ng-reflect-ng-if\": \"\"\r\n      }--><div class=\"mat-input-hint-spacer mat-form-field-hint-spacer\"></div></div></div></div>\r\n      \r\n          \r\n      \r\n            <div class=\"mat-input-wrapper mat-form-field-wrapper\"  style=\"position:relative; margin-bottom: 4rem;\"><div class=\"mat-input-flex mat-form-field-flex\"><!--bindings={\r\n      \"ng-reflect-ng-if\": \"0\"\r\n      }--><div class=\"mat-input-infix mat-form-field-infix\">\r\n      \r\n              \r\n      \r\n              <input id='mobilePassword' name='password' type=\"password\" style=\"font: inherit; background: 0 0; color: white; border: none; outline: 0; padding: 0; margin: 0; width: 100%; max-width: 100%; vertical-align: bottom; text-align: inherit; caret-color: rgba(255, 255, 255, 0.5);\">\r\n              <input type=\"HIDDEN\" name=\"login-form-type\" value=\"pwd\" />\r\n            <span style=\"top: -0.84375em; padding-top: 0.84375em; position: absolute; left: 0; box-sizing: content-box; width: 100%; height: 100%; overflow: hidden; pointer-events: none;\">\r\n              <label style=\"transform: translateY(-1.28125em) perspective(100px) translateZ(0.001px);color: rgba(255, 255, 255, 0.7);display: block;width: 100%;font-size: 1.3rem;\">\r\n              Password\r\n              </label>\r\n            </span></div></div>\r\n            <div class=\"mat-input-underline mat-form-field-underline\" style=\"background-color: rgba(255, 255, 255, 0.7);position: absolute;height: 1px;width: 100%;\"><span class=\"mat-input-ripple mat-form-field-ripple\"></span></div><div class=\"mat-input-subscript-wrapper mat-form-field-subscript-wrapper\" ng-reflect-ng-switch=\"hint\"><!--bindings={\r\n          \"ng-reflect-ng-switch-case\": \"error\"\r\n          }--><!--bindings={\r\n          \"ng-reflect-ng-switch-case\": \"hint\"\r\n          }--><div class=\"mat-input-hint-wrapper mat-form-field-hint-wrapper ng-tns-c3-1 ng-trigger ng-trigger-transitionMessages ng-star-inserted\" style=\"opacity: 1; transform: translateY(0%);\"><!--bindings={\r\n          \"ng-reflect-ng-if\": \"\"\r\n          }--><div class=\"mat-input-hint-spacer mat-form-field-hint-spacer\"></div></div></div></div>\r\n          \r\n              \r\n          \r\n                <div class=\"centered\" style=\"margin-top:2rem; text-align:center\">\r\n          \r\n                  <button style=\"margin-bottom: 3rem; background: white; color: #003e6b; box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12); cursor: pointer; outline: 0; border: none; -webkit-tap-highlight-color: transparent; display: inline-block; white-space: nowrap; text-decoration: none; vertical-align: baseline; text-align: center; margin: 0; min-width: 88px; line-height: 36px;padding: 0 16px;border-radius: 2px;\"><span class=\"mat-button-wrapper\">LOGIN</span></button>\r\n          \r\n                  <div style=\"margin-top:3rem\"><a style=\"color:white; text-decoration: none\">Forgot password?</a></div>\r\n          \r\n                </div>\r\n          \r\n              </div>\r\n          </form>\\`;\r\n          loginNode = doc.createElement('div');\r\n          loginNode.innerHTML = loginHtml;\r\n          doc.body.insertBefore(loginNode, doc.body.childNodes[0]);`\r\n        });\r\n\r\n        if (firstAttempt) {\r\n          firstAttempt = false;\r\n          windowInstance.executeScript({'code': `\r\n            \r\n            doc.getElementById('mobileUsername').value = '`+username+`';\r\n            doc.getElementById('mobilePassword').value = '`+password+`';\r\n            doc.getElementById('mobileLogin').submit();\r\n            `\r\n            });\r\n        } else {\r\n          windowInstance.executeScript({'code': \"doc.getElementById('GeneralErrorAlert').innerText.substring(1);\"\r\n          }, (error) => {\r\n            if (error && error.length > 0 && error[0].length > 2) {\r\n              reject(error[0]);\r\n              \r\n            }\r\n          });\r\n\r\n          windowInstance.executeScript({\r\n            'code': `\r\n              let errorText = '';\r\n              for (var i=0; i<document.body.childNodes.length; i++) {\r\n                if (document.body.childNodes[i].nodeType === 8 && document.body.childNodes[i].textContent.indexOf('ERROR_TEXT') !== -1) {\r\n                  errorText = document.body.childNodes[i].textContent.substring(document.body.childNodes[i].textContent.indexOf('   '));\r\n                }\r\n              }\r\n              errorText;`\r\n          }, (errorText) => {\r\n            if (errorText.length > 0 && errorText[0].length > 0) {\r\n              reject(errorText[0]);\r\n            }\r\n          });\r\n\r\n          windowInstance.executeScript({ 'code': 'doc.getElementById(\"helpPhAccLocked\") !== null'}, (acctLocked) => {\r\n            if (acctLocked[0]) {\r\n              reject('Your account is suspended. You have exceeded the maximum number of failed login attempts.');\r\n            }\r\n          })\r\n          //doc.getElementById('errorMessage').innerHTML = '<div style=\"background:rgba(255,255,255,0.2); margin-top:-2rem; margin-bottom:4rem; border-radius:4px;border:1px solid rgba(255,255,255,0.25);text-align:center;color: white;font-size: 14px;padding: 4px;\">' + errorMessage + '</div>';\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private restyleJHLogin(doc) {\r\n    // 100: #06A7E2\r\n    // 200: #1495db\r\n    // 300: #006BA6\r\n    // 400: #005990\r\n    // 500: #003e6b\r\n    // 600: #092759\r\n    // 700: #0a2e55\r\n    \r\n  }\r\n\r\n  private extractErrorMessage(body: string) {\r\n    const m = body.match(/ERROR_TEXT (.+)--/mgi);\r\n    return m[0].substring(m[0].indexOf('  ') + 3, m[0].length-3);\r\n  }\r\n\r\n  public async login(): Promise<any> {\r\n    if ((<any>window).cordova) {\r\n      return await this.loginWithDevice();\r\n    } else {\r\n      return await this.loginWithBrowser();\r\n    }\r\n  }\r\n\r\n  private async loginWithBrowser(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      let loginWindowURL = this.loginURL + this.prefix + 'authorize?client_id=' // '/authorize?client...'\r\n          + this.appId + '&redirect_uri=' + this.oauthCallbackURL\r\n          + '&response_type=token&scope=' + this.scopeParameters.join('%20');\r\n\r\n      window.open(loginWindowURL, '_blank', 'location=no');\r\n      this.deferredLogin.resolve = resolve;\r\n      this.deferredLogin.reject = reject;\r\n    });\r\n  }\r\n\r\n  private async loginWithDevice(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      let deviceOauthCallback = this.loginURL + '/success',\r\n        loginWindowURL = this.loginURL + this.prefix + 'authorize?client_id=' + this.appId + '&redirect_uri=' + deviceOauthCallback + '&response_type=token',\r\n        successOauth = 'success#access_token',\r\n        userDeniedAuth = this.prefix + '/success?error=access_denied&error_description=end-user+denied+authorization',\r\n        oauthTimeout = '/setup/secur/RemoteAccessErrorPage';\r\n\r\n      if ((<any>window).cordova && (<any>window).cordova.InAppBrowser) {\r\n\r\n        var ref = (<any>window).cordova.InAppBrowser.open(loginWindowURL, '_blank', 'location=no,zoom=no');\r\n        ref.addEventListener('loadstop', (event) => {\r\n          if (event.url.indexOf(successOauth) > -1) {\r\n            this.oauthCallback(event.url);\r\n            ref.close();\r\n\r\n          } else if (event.url.indexOf(userDeniedAuth) > -1) {\r\n            ref.close();\r\n            reject('User denied authorization');\r\n\r\n          } else if (event.url.indexOf(oauthTimeout) > -1) {\r\n            ref.close();\r\n            reject('Oauth timeout');\r\n          }\r\n        });\r\n        this.deferredLogin.resolve = resolve;\r\n        this.deferredLogin.reject = reject;\r\n      } else {\r\n        reject('Cordova InAppBrowser plugin required');\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  public oauthCallback(url): void {\r\n    let queryString: string;\r\n\r\n    if (url.indexOf(\"access_token=\") > 0) { // was access_token\r\n      queryString = url.substr(url.indexOf('#') + 1);\r\n      this.oauth = this.parseQueryString(queryString);\r\n      this.tokenStore['forceOAuth'] = JSON.stringify(this.oauth);\r\n      this.deferredLogin.resolve(this.oauth);\r\n    } else if (url.indexOf(\"error=\") > 0) {\r\n      queryString = decodeURIComponent(url.substring(url.indexOf('?') + 1));\r\n      this.deferredLogin.reject(this.parseQueryString(queryString));\r\n    } else {\r\n      this.deferredLogin.reject({\r\n        status: 'access_denied'\r\n      });\r\n    }\r\n  }\r\n\r\n  private parseQueryString(queryString) {\r\n    var qs = decodeURIComponent(queryString),\r\n        obj = {},\r\n        params = qs.split('&');\r\n    params.forEach(function (param) {\r\n      var splitter = param.split('=');\r\n      obj[splitter[0]] = splitter[1];\r\n    });\r\n    return obj;\r\n  };\r\n  \r\n  public getUserId() {\r\n    return this.oauth ? this.oauth.id.split('/').pop() : undefined;\r\n  }\r\n\r\n  public isAuthenticated() {\r\n    return (this.oauth && this.oauth.access_token) ? true : false;\r\n  }\r\n\r\n  public getUser() {\r\n    const userData = localStorage.getItem('userData');\r\n    if (typeof userData !== 'undefined' && userData.length > 0) {\r\n      return JSON.parse(userData);\r\n    }\r\n    return this.data;\r\n  }\r\n\r\n  private getRequestBaseURL() {\r\n    var url;\r\n    if (this.useProxy) {\r\n      url = this.proxyURL;\r\n    } else if (this.oauth.instance_url) {\r\n      url = this.oauth.instance_url;\r\n    } else {\r\n      url = this.communityUrl;\r\n      //url = this.serverURL;\r\n    }\r\n    if (url.slice(-1) === '/') {\r\n      url = url.slice(0, -1);\r\n    }\r\n    return url;\r\n  }\r\n\r\n  private toQueryString(obj) {\r\n    var parts = [],\r\n        i;\r\n    for (i in obj) {\r\n      if (obj.hasOwnProperty(i)) {\r\n        parts.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(obj[i]));\r\n      }\r\n    }\r\n    return parts.join(\"&\");\r\n  }\r\n\r\n  private refreshToken(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      if (!this.oauth.refresh_token) {\r\n        reject('No refresh token found');\r\n      } else {\r\n        var params = {\r\n          'grant_type': 'refresh_token',\r\n          'refresh_token': this.oauth.refresh_token,\r\n          'client_id': this.appId\r\n        },\r\n        url = this.useProxy ? this.proxyURL : this.loginURL;\r\n        if (url.slice(-1) === '/') {\r\n          url = url.slice(0, -1);\r\n        }\r\n        url = url + this.prefix + 'token?' + this.toQueryString(params);\r\n        var headers = new Headers();\r\n        if (this.useProxy) {\r\n          headers.append('Target-URL', this.loginURL);\r\n        }\r\n        var method = 'POST';\r\n        var options = new RequestOptions({headers: headers, method: method});\r\n\r\n        this.http.get(url, options)\r\n          .map(res => {\r\n            if (res.status < 200 || res.status >= 300) {\r\n              reject();\r\n            } else {\r\n              return res.json();\r\n            }\r\n          })\r\n          .subscribe(\r\n            (data) => {\r\n              this.oauth.access_token = data.access_token;\r\n              this.tokenStore.forceOAuth = JSON.stringify(this.oauth);\r\n              resolve(data);\r\n            },\r\n            (error) => {\r\n              reject(error);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  public async request(obj) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      if (!this.oauth || (!this.oauth.access_token && !this.oauth.refresh_token)) {\r\n        reject('No access token. Login and try again.');\r\n      } else {\r\n        // Compose url\r\n        var url = this.getRequestBaseURL();\r\n        if (obj.path.charAt(0) !== '/') {\r\n            obj.path = '/' + obj.path;\r\n        }\r\n        url = url + obj.path;\r\n\r\n        //Compose headers\r\n        var headers = new Headers();\r\n        headers.append('Authorization', 'Bearer ' + this.oauth.access_token);\r\n        if (obj.contentType) {\r\n          headers.append('Content-Type', obj.contentType);\r\n        }\r\n        if (this.useProxy) {\r\n          headers.append('Target-URL', this.oauth.instance_url);\r\n        }\r\n\r\n        // Compose options\r\n        var method = obj.method ? obj.method : 'GET';\r\n        var optionInput: any;\r\n\r\n        optionInput = {\r\n          headers: headers,\r\n          method: method,\r\n          params: obj.params,\r\n          data: obj.data\r\n        };\r\n\r\n        if (obj.responseType === 'arraybuffer') {\r\n          optionInput.responseType = ResponseContentType.ArrayBuffer;\r\n        }\r\n\r\n        let options = new RequestOptions(optionInput);\r\n\r\n        if (method === \"POST\") {\r\n          this.http.post(url, obj.data, options)\r\n            .map(res => {\r\n              if (res.status < 200 || res.status >= 300) {\r\n                if (res.status === 401) {\r\n                  this.onlyOne = false;\r\n                  if (this.oauth.refresh_token) {\r\n                    return this.refreshToken().then(() => {\r\n                      return this.request(obj);\r\n                    })\r\n                  } else {\r\n                    return this.login().then(() => {\r\n                      return this.request(obj);\r\n                    });\r\n                  }\r\n                } else {\r\n                  throw new Error('This request has failed ' + res.status);\r\n                }\r\n              } else {\r\n                return res.json();\r\n              }\r\n            })\r\n            .subscribe(\r\n              (data) => {\r\n                resolve(data);\r\n              },\r\n              (error) => {\r\n                reject(error)\r\n              }\r\n            );\r\n        } else { // FIX redirect URI\r\n          this.http.get(url, options)\r\n          .map(res => {\r\n            if (res.status < 200 || res.status >= 300) {\r\n              if (res.status === 401) {\r\n                this.onlyOne = false;\r\n                if (this.oauth.refresh_token) {\r\n                  // Unauthorized, try to refresh token\r\n                  return this.refreshToken().then(() => {\r\n                    return this.request(obj);\r\n                  });\r\n\r\n                } else {\r\n                  // Unauthorized, try to login again\r\n                  return this.login().then(() => {\r\n                    return this.request(obj);\r\n                  });\r\n                }\r\n              } else {\r\n                throw new Error('This request has failed ' + res.status);\r\n              }\r\n            }\r\n            else {\r\n              return res.json();\r\n            }\r\n          })\r\n          .subscribe(\r\n              (data) => {\r\n                //@todo: remove\r\n                setTimeout( () => {\r\n                  resolve(data);\r\n                }, 2000);                  \r\n              },\r\n              (error) => {\r\n                  reject(error);\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public async query(soql) {\r\n    return await this.request({\r\n      path: '/services/data/' + this.apiVersion + '/query',\r\n      params: {\r\n        q: soql\r\n      }\r\n    });\r\n  }\r\n\r\n  public async retrieve(objectName, id, fields) {\r\n    return await this.request({\r\n      path: '/services/data/' + this.apiVersion + '/sobjects/' + objectName + '/' + id,\r\n      params: fields ? {\r\n        fields: fields\r\n      } : undefined\r\n    });\r\n  }\r\n\r\n  public async create(objectName, data) {\r\n    return this.request({\r\n      method: 'POST',\r\n      contentType: 'application/json',\r\n      path: '/services/data/' + this.apiVersion + '/sobjects/' + objectName + '/',\r\n      data: data\r\n    });\r\n  }\r\n\r\n  public async update(objectName, data) {\r\n    var id = data.id,\r\n      fields = {...data};\r\n\r\n    delete fields.attributes;\r\n    delete fields.id;\r\n\r\n    return await this.request({\r\n      method: 'POST',\r\n      contentType: 'application/json',\r\n      path: '/services/data/' + this.apiVersion + '/sobjects/' + objectName + '/' + id,\r\n      params: {\r\n          '_HttpMethod': 'PATCH'\r\n      },\r\n      data: fields\r\n    });\r\n  }\r\n\r\n  public async del(objectName, id) {\r\n    return await this.request({\r\n      method: 'DELETE',\r\n      path: '/services/data/' + this.apiVersion + '/sobjects/' + objectName + '/' + id\r\n    });\r\n  }\r\n\r\n  public async upsert(objectName, externalIdField, externalId, data) {\r\n    return await this.request({\r\n      method: 'PATCH',\r\n      contentType: 'application/json',\r\n      path: '/services/data/' + this.apiVersion + '/sobjects/' + objectName + '/' + externalIdField + '/' + externalId,\r\n      data: data\r\n    });\r\n  }\r\n\r\n  doLogin(username: string, password: string, callback: any) {\r\n\r\n    if (LOCALIZED_LOGIN) {\r\n      // const passwordSalt = sjcl.codec.hex.toBits( '314653651774a345466a3769267142325466' );\r\n      // const derivedKey = sjcl.misc.pbkdf2( password, passwordSalt, 20000, 256 );\r\n      // password = sjcl.codec.hex.fromBits( derivedKey );\r\n      this.http.post(BASE_URL + 'login', 'username=' + username + '&password=' + password, {headers: this.headers})\r\n        .map(res => res.json())\r\n        .map(res => res)\r\n        .subscribe( res => {\r\n            console.log(res);\r\n            localStorage.setItem('userData', JSON.stringify(res.user));\r\n            this.data = res.user;\r\n            callback(res);\r\n      });\r\n    } else {\r\n      \r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    (<any>window).angularComponentRef = null;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/salesforce.service.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {Http} from '@angular/http';\r\nimport { Store } from '@ngrx/store';\r\nimport { BaseService, SalesforceService, CacheService } from './index'\r\n\r\n@Injectable()\r\nexport class SObjectService extends BaseService {\r\n  public fieldList: string[]; //@deprecate\r\n  public queryLimit: number = 2000;\r\n  public additionalFields: string[];\r\n\r\n  constructor(protected http: Http, protected store: Store<any>, public sforce: SalesforceService, public cacher: CacheService) {\r\n    super(http, store);\r\n  }\r\n\r\n  setType(type: string) {\r\n    this.init({\r\n      type: type\r\n    });\r\n  }\r\n\r\n  public async getAll(params?) {\r\n    try {\r\n      this.setMetadata({'pending': true});\r\n      const query = 'select '+this.buildFieldList()+' from '+this.type+' '+this.buildWhere()+' LIMIT ' + this.queryLimit;\r\n      console.log(query);\r\n      let freshTime = 1800;\r\n      let queryCached = false;\r\n      const refreshing = (params && params.refresh);\r\n      if (refreshing) {\r\n        this.setMetadata({'refreshing': true});\r\n      }\r\n      try {\r\n        freshTime = this.schema['properties']['keep_fresh']['default'];\r\n      } catch (e) { }\r\n      if ( false && !refreshing && this.hasProperty('pending_create') && this.cacher.isFresh(query, freshTime)) {\r\n        //try {\r\n        //  await this.cacher.rebuildReducers(this.type);\r\n        //  queryCached = true;\r\n        //} catch (e) {}\r\n      } else {        \r\n        this.sforce.query(query).then(data => {\r\n          let records = [];\r\n          data['records'].map( a=> records.push( this.lowercaseAttributes(a) ));\r\n          this.handlePayloadData('set', records);\r\n          if (refreshing) {\r\n            this.setMetadata({'refreshing': false});\r\n          }\r\n          this.setMetadata({'pending': false});\r\n          if (queryCached) {            \r\n            // this.cacher.cacheQuery(query);            \r\n          }          \r\n        }, e=>{\r\n            console.log('Error', e);\r\n        });\r\n      }      \r\n    } catch (e) {\r\n      if (typeof this.schema == 'undefined') {\r\n        throw 'The sObject type was either not set or not found.'\r\n      } else {\r\n        throw 'Unknown Error: ' + e;\r\n      }\r\n    }\r\n  }\r\n\r\n  getFieldList() {\r\n    let i = 0;\r\n    const fieldList = [];\r\n    \r\n    for (const key in this.schema['properties']) {\r\n      i++;\r\n      if (this.schema['ignoreList'].indexOf(i) === -1) {\r\n        fieldList.push(key)\r\n      }\r\n    }\r\n    if (this.additionalFields && this.additionalFields.length > 0) {\r\n      return fieldList.concat(this.additionalFields);\r\n    }\r\n    return fieldList;\r\n  }\r\n\r\n  buildFieldList() {\r\n    console.log(this.getFieldList());\r\n    return this.getFieldList().join(', ');\r\n  }\r\n  \r\n  buildWhere() {\r\n    return '';\r\n  }\r\n\r\n  beforeCreate() {}\r\n  async create(newObj, callback?) {\r\n    let local_id;\r\n    // @todo: If Cached\r\n    if (this.hasProperty('pending_create')) {\r\n      try {\r\n        // local_id = await this.cacher.create(newObj, this.type, true);\r\n      } catch (e) {}\r\n    }\r\n\r\n    return this.doCreate(newObj, local_id);    \r\n  }\r\n\r\n  afterCreate(payload, data) {\r\n    return data;\r\n  }\r\n\r\n  private async doCreate(newObj, local_id) {\r\n    const promise = this.sforce.create(this.type, newObj);\r\n\r\n    newObj['pending'] = true;\r\n    newObj['tempId'] = this.uuid(false);\r\n    this.store.dispatch({\r\n      type: 'insert_'+this.type, \r\n      payload: { data:newObj }\r\n    });\r\n\r\n    promise.then(payload => {\r\n      console.log('Create Result', payload);\r\n      newObj = this.afterCreate(payload, newObj);\r\n      if (payload !== false) {\r\n        newObj['id'] = payload['id'];\r\n        newObj['pending'] = false;\r\n        this.store.dispatch({\r\n          type: 'update_pending_' + this.type,\r\n          payload: { data: newObj }\r\n        });\r\n        try {\r\n          // this.cacher.update({ 'id': payload['id'], 'pending_create': false }, this.type, local_id);\r\n        } catch(e) {}\r\n        return payload['id'];\r\n      }\r\n    }, error => {\r\n      // @todo: Delete item from store\r\n      // @todo: catch possible errors and handle each by type\r\n\r\n      return false;\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  beforeUpdate() {}\r\n  async update(newObj: any, callback?: any) {\r\n    if (this.hasProperty('pending_update')) {\r\n      try {\r\n        // await this.cacher.update(newObj, this.type, newObj.id, 'id');\r\n      } catch (e) {}\r\n    }\r\n    this.doUpdate(newObj);\r\n  }\r\n  \r\n  async doUpdate(newObj) {\r\n    const promise = this.sforce.update(this.type, newObj);\r\n    newObj['pending'] = true;\r\n    this.store.dispatch({\r\n      type: 'update_'+this.type, \r\n      payload: { data: newObj }\r\n    });\r\n    promise.then(payload => {\r\n      console.log('update result', payload);\r\n      if (payload !== false) {\r\n        newObj['pending'] = false;\r\n        this.handlePayloadData('update_pending', newObj);\r\n        try {\r\n          // this.cacher.update({ 'pending_update':false }, this.type, newObj['id'], 'id');\r\n        } catch (e) {}\r\n      }\r\n\r\n    }).catch(err => {\r\n      console.log('update error: ', err);\r\n    });    \r\n  }\r\n\r\n\r\n\r\n  handlePayloadData(operation, data) {\r\n    this.store.dispatch({\r\n      type: operation + '_' + this.type,\r\n      payload: {data: data}\r\n    });\r\n\r\n    if (this.hasProperty('pending_create')) {\r\n      try {\r\n        // this.cacher.batchUpsert(data, this.type);\r\n      } catch(e) {}\r\n    }\r\n  }\r\n\r\n  lowercaseAttributes(obj: any) {\r\n    const _ths = this;\r\n    return Object.keys(obj).reduce(function (newObj, key) {\r\n        let val = obj[key];\r\n        let newVal = (typeof val === 'object' && val !== null) ? _ths.lowercaseAttributes(val) : val;\r\n        newObj[key.toLowerCase()] = newVal;\r\n        return newObj;\r\n    }, {});\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/sobject.service.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {Http} from '@angular/http';\r\nimport { Store } from '@ngrx/store';\r\nimport { BaseService, SalesforceService, SObjectService } from './index'\r\n\r\n/**\r\n * Detail Service models the master-detail relationship.\r\n */\r\n@Injectable()\r\nexport class DetailService extends SObjectService {\r\n  public parentId: string;\r\n  public parentField: string;\r\n  filteredItems: Observable<any>;\r\n  \r\n  setParentId(id: string, field: string) {\r\n    this.parentId = this.alphanumeric(id);\r\n    this.parentField = this.alphanumeric(field);\r\n    this.store.select(this.type + '_interactivity');\r\n    this.filter(field, id);\r\n  }\r\n\r\n  buildWhere() {\r\n    return 'WHERE ' + this.parentField + ' = \\'' + this.parentId + '\\'';\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/detail.service.ts","import { DetailService, SalesforceService, CacheService } from \".\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Http } from \"@angular/http\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\n//import { ContactComponent, ContactDetailComponent, CheckOutPage } from '../pages'\r\nimport { Nav, NavParams, NavController } from 'ionic-angular';\r\nimport { MatDialogRef, MatDialog } from '@angular/material';\r\nimport { timeDiff } from '../common/utils';\r\n\r\n@Injectable()\r\nexport class CheckinService extends DetailService {\r\n  public type = '';\r\n  private runner: any;\r\n\r\n  constructor(protected http: Http, protected store: Store<any>, public sforce: SalesforceService, public cacher: CacheService, private notification: LocalNotifications, private dialog: MatDialog) {\r\n    super(http, store, sforce, cacher);\r\n  }\r\n\r\n  forceInit() {\r\n    if (this.type === '') {\r\n      this.setType('time_log__c');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates a timelog object which marks the user as checked in for a given claim.   \r\n   */\r\n  checkin(data: any, claim_id: string, nav: NavController) {\r\n    if (typeof data !== 'undefined' && parseFloat(data.rate__c) > 0) {\r\n      this.setMetadata({'checkedin': claim_id});\r\n      let checkin = {\r\n        ltc_hourly_rate__c: data.rate__c,\r\n        ltc_related_claim__c: claim_id,\r\n        ltc_check_in_datetime__c: new Date(),\r\n        ltc_check_out_time__c: null,\r\n        ltc_related_invoice__c: null\r\n      };\r\n      this.create(checkin).then( (payload: any) => {\r\n        this.setMetadata({ 'checkedin_id': payload.id });\r\n        checkin['id'] = payload.id;\r\n        this.notification.schedule([{\r\n          id: 1,\r\n          title: 'You are currently checked in with a client.',\r\n          text: 'Checked in for 0:00.',\r\n          silent: true,\r\n          sound: null,\r\n          priority: 2,\r\n          ongoing: true,\r\n          data: {id: 'test'}\r\n        }]);\r\n    \r\n        const startTime = new Date();\r\n        const noti = this.notification;\r\n        let updateFunc = () => {\r\n          const timeStr = timeDiff(startTime, new Date());\r\n          noti.update({\r\n            id: 1,\r\n            text: 'Checked in for ' + timeStr\r\n          });\r\n        }\r\n\r\n        this.runner = setInterval(updateFunc, 60000);\r\n        this.notification.on('click', (notification, state) => {\r\n          //nav.push(CheckOutPage, [ { id: claim_id }, checkin ]);\r\n        });\r\n\r\n        nav.pop();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Checks the user out from their previous check in\r\n   */\r\n  checkout(data: any, nav) {\r\n    if (typeof data !== 'undefined' && data !== '' && data.checkout__c !== '') {\r\n      this.setMetadata({'checkedin': ''});\r\n      this.setMetadata({ 'checkedin_id': ''});\r\n      let checkout = data.checkout__c;\r\n      if (typeof checkout.getHours !== 'function') {\r\n        checkout = new Date(checkout);\r\n      }\r\n      const hours = checkout.getHours() < 9 ? '0' + checkout.getHours() : checkout.getHours();\r\n      const minutes = checkout.getMinutes() < 9 ? '0' + checkout.getMinutes() : checkout.getMinutes();\r\n      let timeStr = hours + ':' + minutes + ':00';\r\n\r\n      this.update({\r\n        id: data.id,\r\n        ltc_check_out_time__c: timeStr\r\n      });\r\n      this.notification.cancel(1);\r\n      clearInterval(this.runner);\r\n      nav.pop();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the current check-in status for the current user.\r\n   */\r\n  getCheckinStatus() {\r\n    this.forceInit();\r\n    // const user_id = this.sforce.getUserId();\r\n    this.sforce.query('SELECT Id, ltc_related_claim__c FROM time_log__c WHERE ltc_check_out_time__c = NULL LIMIT 1').then( (data: any) => {\r\n      if (data.records.length > 0) {\r\n        console.log(data.records[0]);\r\n        this.setMetadata({ 'checkedin': data.records[0].LTC_Related_Claim__c });\r\n        this.setMetadata({ 'checkedin_id': data.records[0].Id });\r\n      } else {\r\n        this.setMetadata({ 'checkedin': ''});\r\n        this.setMetadata({ 'checkedin_id': ''});\r\n      }\r\n    }).catch( err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/checkin.service.ts","import { DetailService } from \".\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\n@Injectable()\r\nexport class InvoiceService extends DetailService {\r\n  public type = '';\r\n  public additionalFields = ['ltc_related_claim__r.name'];\r\n\r\n  forceInit() {\r\n    if (this.type === '') {\r\n      this.setType('time_log__c');\r\n    }\r\n  }\r\n\r\n  createInvoice(obj) {\r\n    return new Promise<any>( (resolve, reject) => {\r\n      this.type = 'ltc_claim_invoice_submission__c';\r\n      this.create({\r\n        ltc_associated_claim__c: obj.ltc_associated_claim__c,\r\n        ltc_submission_status__c: 'Submitted',\r\n        LTC_Agree_With_Fraud_Disclaimer__c: true\r\n      }).then( result => {\r\n        this.type = 'ltc_claim_invoice__c';\r\n        this.create({\r\n          ltc_service_date_to__c: obj.latestDate,\r\n          ltc_service_date_from__c: obj.earliestDate,\r\n          ltc_total_charges__c: obj.totalCharges,\r\n          ltc_hourly_rate__c: obj.hourlyRate,\r\n          ltc_invoice_submission__c: result['id'] \r\n        }).then( res2 => {\r\n          resolve(res2);\r\n        }).catch( err => reject(err) );\r\n      }).catch( err => {\r\n        reject(err);\r\n      });\r\n    });\r\n  }\r\n\r\n  buildWhere() {\r\n    console.log(this.parentId);\r\n    if (this.parentId) {\r\n      return 'WHERE ' + this.parentField + ' = \\'' + this.parentId + '\\'';\r\n    }\r\n    return '';\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/invoice.service.ts","import { DetailService } from \".\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\n@Injectable()\r\nexport class ClaimService extends DetailService {\r\n  public type = '';\r\n  public additionalFields = ['associated_policy__r.insured__r.name', 'associated_policy__r.insured__r.type'];\r\n\r\n  forceInit() {\r\n    if (this.type === '') {\r\n      this.setType('claim__c');\r\n    }\r\n  }\r\n\r\n  buildWhere() {\r\n    return '';\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/claim.service.ts","import {Component} from '@angular/core';\r\nimport {Store} from '@ngrx/store';\r\n\r\nimport { NavController } from 'ionic-angular';\r\nimport { NavParams } from 'ionic-angular';\r\nimport { Renderer2 } from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\n\r\n@Component({\r\n  selector: 'jh-nav-search',\r\n  templateUrl: 'search.html',\r\n  providers: [  ]\r\n})\r\nexport class SearchComponent {\r\n  isActive: boolean = false;\r\n  public query = new Subject();\r\n\r\n  constructor(private renderer: Renderer2) {\r\n\r\n  }\r\n\r\n  onChange(e) {\r\n    this.query.next(e);\r\n  }\r\n\r\n  beginSearch() {\r\n    this.isActive = true;\r\n    const searchEl = this.renderer.selectRootElement('#search');\r\n    searchEl.focus();\r\n    /*searchEl.onblur( evt => {\r\n      console.log('blur');\r\n      if (searchEl.value.length < 1) {\r\n        this.clearSearch();\r\n      }\r\n    });*/\r\n  }\r\n\r\n  clearSearch() {\r\n    this.renderer.selectRootElement('#search').value = '';\r\n    this.isActive = false;\r\n    this.query.next('');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/search/search.ts","import {Component, OnInit} from '@angular/core';\r\nimport {Store} from '@ngrx/store';\r\n\r\nimport {NavController} from 'ionic-angular';\r\nimport { ViewChild, ElementRef, Renderer2 } from '@angular/core';\r\nimport { SearchComponent } from './';\r\nimport { SObjectService } from '../services';\r\n\r\n/**\r\n * Generic Component used to give typical components a standard structure\r\n */\r\nexport class BaseComponent implements OnInit {\r\n  @ViewChild(SearchComponent) search: SearchComponent;\r\n  public items: any;\r\n  constructor(protected sObjects: SObjectService, \r\n              protected store: Store<any>, \r\n              protected navCtrl: NavController) { }\r\n\r\n  /**\r\n   * Sets the primary sObject type.\r\n   * @param type \r\n   */\r\n  setType(type: string) {\r\n    this.sObjects.setType(type);\r\n    this.items = this.sObjects.filteredItems;\r\n    this.beforeGet();\r\n    this.sObjects.getAll();\r\n  }\r\n  \r\n  beforeGet() { }\r\n\r\n  ngOnInit() {\r\n    this.search.query.subscribe( data => {\r\n      this.sObjects.search(data);\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/base.component.ts","import {Component} from '@angular/core';\r\nimport {Store} from '@ngrx/store';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\n\r\n/**\r\n * Generic component used to handle various types of pending 'getAll' requests.\r\n */\r\n@Component({\r\n  selector: 'jh-nav-pending',\r\n  templateUrl: 'pending.html',\r\n  providers: [  ]\r\n})\r\nexport class PendingComponent {\r\n  public meta: any;\r\n  constructor(private store: Store<any>) {\r\n    this.meta = this.store.select('meta');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/pending/pending.ts","import {Component} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'jh-static-map',\r\n  templateUrl: 'static-map.html',\r\n  providers: [  ]\r\n})\r\nexport class StaticMapComponent {\r\n  public meta: any;\r\n  public apiKey = 'AIzaSyAv0QRF_YvM-KdUG6Q10AxBhlpBCJfaH0U';\r\n  public zoomLevel = 17;\r\n  public gettingLocation = true;\r\n  public accuracyPath = '';\r\n  public coords = {\r\n    latitude: 0,\r\n    longitude: 0\r\n  };\r\n\r\n  public setCoord(coords: any) {\r\n    console.log(coords);\r\n    this.coords = coords;\r\n    this.gettingLocation = false;\r\n    this.buildAccuracyPolygon(coords);\r\n  }\r\n\r\n  private buildAccuracyPolygon(coords) {\r\n    //Position, decimal degrees\r\n    const lat = coords.latitude;\r\n    const lon = coords.longitude;\r\n\r\n    //Earth’s radius, sphere\r\n    const R=6378137;\r\n\r\n    //offsets in meters\r\n    const accuracy = coords.accuracy;\r\n\r\n    //Coordinate offsets in radians\r\n    const dLat = accuracy/R;\r\n    const dLon = accuracy/(R*Math.cos(Math.PI*lat/180))\r\n\r\n    //OffsetPosition, decimal degrees\r\n    const deltas = [dLat * 180/Math.PI, dLon * 180/Math.PI];\r\n    let coordArray = [];\r\n    for (let angle = 0; angle <= 180; angle += 10) {\r\n      coordArray.push( [  lat + (deltas[0] * Math.cos(angle*Math.PI/180)),\r\n      lon + (deltas[1] * Math.sin(angle*Math.PI/180)) ] );\r\n    }\r\n\r\n    for (let angle = 180; angle >= 0; angle -= 10) {\r\n      coordArray.push( [ lat + (deltas[0] * Math.cos(-angle*Math.PI/180)),\r\n      lon + (deltas[1] * Math.sin(-angle*Math.PI/180)) ] );\r\n    }\r\n    //coordArray.push(coordArray[0]);\r\n\r\n    console.log(coordArray);\r\n    \r\n    this.accuracyPath = this.magicEncode(coordArray);\r\n    \r\n  }\r\n  /**\r\n   * Reverse Engineered Google map encoding system.\r\n   * See: https://developers.google.com/maps/documentation/utilities/polylinealgorithm\r\n   * \r\n   * @param coordArray Array of coordinate pairs to encode\r\n   *     Ex. [ [12.41252, -14.15212 ], [13.4124, -14.1234] ]\r\n   */\r\n  public magicEncode(coordArray: any) {\r\n    coordArray.map( coords => {\r\n      coords[0] = Math.round(coords[0] * 100000);\r\n      coords[1] = Math.round(coords[1] * 100000);\r\n      return coords;\r\n    })\r\n    let encodeStr = [];\r\n    let delta = [0,0];\r\n    \r\n    const encode = (a) => {\r\n      getChar(0 > a ? ~(a << 1) : a << 1);\r\n    }\r\n\r\n    const getChar = (encoded) => {\r\n      for (; 32 <= encoded; )\r\n          encodeStr.push(String.fromCharCode((32 | encoded & 31) + 63)),\r\n          encoded >>= 5;\r\n          encodeStr.push(String.fromCharCode(encoded + 63));\r\n    }\r\n\r\n    for (var i=0; i<coordArray.length; i++) {\r\n      encode(coordArray[i][0] - delta[0]);\r\n      encode(coordArray[i][1] - delta[1]);\r\n      delta = coordArray[i];\r\n    }\r\n    return encodeStr.join('');\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/static-map/static-map.ts","import {Component, Input, Output} from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { DatePicker } from '@ionic-native/date-picker';\r\n\r\n@Component({\r\n  selector: 'datetime-picker',\r\n  templateUrl: 'datetime-picker.html',\r\n  providers: [  ]\r\n})\r\nexport class DateTimePickerComponent {\r\n  @Output()\r\n  public value: Date;\r\n\r\n  public formValue: Subject<any>;\r\n\r\n  @Input()\r\n  public label: String;\r\n\r\n  constructor(private datePicker: DatePicker) {\r\n\r\n  }\r\n  \r\n  public setValue(value: any) {\r\n    this.formValue.next(value);\r\n    this.value = value;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.value = new Date();\r\n  }\r\n\r\n  openPicker() {\r\n    this.datePicker.show({\r\n      date: this.value,\r\n      mode: 'datetime',\r\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT\r\n    }).then( \r\n      date => this.setValue(date), \r\n      err => console.log('error when getting date: ', err) \r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/datetime-picker/datetime-picker.ts","import { Component, ViewChild } from \"@angular/core\";\r\nimport { Nav } from \"ionic-angular\";\r\nimport { MatDialogRef, MatDialog } from \"@angular/material\";\r\nimport { FingerprintSignInDialog, BillingDialog } from \"./dialogs\";\r\nimport { FingerprintWrapper } from \"../../common\";\r\n\r\n\r\n@Component({\r\n  selector: 'jh-settings',\r\n  templateUrl: 'settings.html'\r\n})\r\nexport class SettingsComponent {\r\n  @ViewChild(Nav) nav: Nav;\r\n  public billing_rate: string = '';  \r\n  private billingDialogRef: MatDialogRef<BillingDialog>;\r\n  private fingerprintDialogRef: MatDialogRef<FingerprintSignInDialog>;\r\n  public username: string = '';\r\n  public enabled = false;\r\n  public available = false;\r\n  \r\n  constructor(private dialog: MatDialog, private fingerprint: FingerprintWrapper) {\r\n    this.billing_rate = (localStorage.getItem('billing_rate') !== null) ? localStorage.getItem('billing_rate') : '';\r\n    this.checkFingerprint();\r\n    fingerprint.isAvailable().then( result => {\r\n      this.available = result;\r\n    });\r\n  }\r\n\r\n  editBilling(){\r\n    this.billingDialogRef = this.dialog.open(BillingDialog);\r\n    this.billingDialogRef.afterClosed().subscribe( data => {\r\n      if (typeof data !== 'undefined' && data.rate__c) {\r\n        localStorage.setItem('billing_rate', data.rate__c);\r\n        this.billing_rate = data.rate__c;\r\n      }\r\n    });\r\n  }\r\n\r\n  editFingerprint() {\r\n    this.fingerprintDialogRef = this.dialog.open(FingerprintSignInDialog);\r\n    this.fingerprintDialogRef.afterClosed().subscribe( data => {\r\n      this.checkFingerprint();\r\n    });\r\n  }\r\n\r\n  checkFingerprint() {\r\n    const fingerprint = localStorage.getItem('fingerprint');\r\n    if (fingerprint !== null) {\r\n      this.username = fingerprint;\r\n      this.enabled = true;\r\n    } else {\r\n      this.username = '';\r\n      this.enabled = false;\r\n    }\r\n  }\r\n\r\n  toggleFingerprint() {\r\n    this.enabled = !this.enabled;\r\n    const fpEnable = (this.enabled) ? 'true' : 'false';\r\n    localStorage.setItem('fingerprint_enabled', fpEnable);\r\n    if (this.enabled && localStorage.getItem('fingerprint') === null) {\r\n      localStorage.setItem('fingerprint', 'nextlogin');\r\n      this.username = 'nextlogin';\r\n    } else if (!this.enabled && this.username === 'nextlogin') {\r\n      this.username = '';\r\n      localStorage.removeItem('fingerprint');\r\n    }\r\n  }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import {Component, ViewChild, Input} from '@angular/core';\r\n\r\nimport { MatDialogRef } from '@angular/material';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\n\r\n\r\n@Component({\r\n  selector: 'jh-settings-billing',\r\n  templateUrl: 'billing.html'\r\n})\r\nexport class BillingDialog {\r\n  public form: FormGroup;\r\n  \r\n  constructor(private formBuilder: FormBuilder, private dialogRef: MatDialogRef<BillingDialog>) { }\r\n\r\n  ngOnInit() {\r\n    const rate = (localStorage.getItem('billing_rate') === null) ? '' : localStorage.getItem('billing_rate');\r\n    this.form = this.formBuilder.group({\r\n      rate__c: rate\r\n    });\r\n  }\r\n\r\n  submit(form) {\r\n    this.dialogRef.close(form.value);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/dialogs/billing.ts","import {Component, ViewChild, Input} from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\n\r\n\r\n@Component({\r\n  selector: 'jh-settings-fingerprint',\r\n  templateUrl: 'fingerprint.html'\r\n})\r\nexport class FingerprintSignInDialog {\r\n  public enabled = false;\r\n  public username = '';\r\n  public form: FormGroup;\r\n  constructor(private formBuilder: FormBuilder, private dialogRef: MatDialogRef<FingerprintSignInDialog>) {\r\n    this.form = this.formBuilder.group({ });\r\n    const fingerprint = localStorage.getItem('fingerprint');\r\n    if (fingerprint !== null) {\r\n      this.enabled = true;\r\n      this.username = fingerprint;\r\n    }\r\n  }\r\n\r\n  submit(form) {\r\n    if (this.enabled) {\r\n      localStorage.removeItem('fingerprint');\r\n      localStorage.removeItem('fingerprint_cipher');\r\n      localStorage.removeItem('fingerprint_enabled');\r\n    } else {\r\n      if (localStorage.getItem('fingerprint') === null) {\r\n        localStorage.setItem('fingerprint', 'nextlogin');\r\n      }\r\n      localStorage.setItem('fingerprint_enabled', 'true');\r\n    }\r\n    this.dialogRef.close(true);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/dialogs/fingerprint.ts","import { combineReducers } from '@ngrx/store';\r\nconst defaultState = {\r\n  'pending': false,\r\n  'refreshing': false,\r\n  'checkedin': ''\r\n};\r\n\r\n/**\r\n * metaReducer\r\n * \r\n * Holds metadata about the application in a reducer.\r\n */\r\nexport const metaReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case 'set_meta':\r\n      return Object.assign(state, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/meta.reducer.ts","export * from './base.service';\r\nexport * from './salesforce.service';\r\nexport * from './cache.service';\r\nexport * from './sobject.service';\r\nexport * from './detail.service';\r\nexport * from './checkin.service';\r\nexport * from './invoice.service';\r\nexport * from './claim.service';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/index.ts","export * from './utils';\r\nexport * from './search/search';\r\nexport * from './base.component';\r\nexport * from './pending/pending';\r\nexport * from './static-map/static-map';\r\nexport * from './datetime-picker/datetime-picker';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/index.ts","/**\r\n * F2B Schema\r\n *\r\n * This file is automatically generated. DO NOT MAKE CHANGES HERE. Use the schema builder:\r\n *   cd ltc-provider-app/tools\r\n *   python3 schemaBuilder.py\r\n */\r\nexport const schema = {\r\n  \"account\":{\r\n    \"properties\":{\r\n      \"id\":{\r\n        \"type\":\"string\",\r\n        \"read-only\":true\r\n      },\r\n      \"lastmodifieddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"createddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"isdeleted\":{\r\n        \"type\":\"boolean\",\r\n        \"read-only\":true\r\n      },\r\n      \"pending_create\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"pending_update\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"pending_delete\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"cache_age\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true\r\n      },\r\n      \"keep_fresh\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true,\r\n        \"default\":1800\r\n      },\r\n      \"prune\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true,\r\n        \"default\":172800\r\n      },\r\n      \"name\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      },\r\n      \"lastname\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      },\r\n      \"firstname\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      },\r\n      \"type\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      }\r\n    },\r\n    \"permissions\":{\r\n      \"create\":\"member\",\r\n      \"update\":\"member\",\r\n      \"delete\":\"member\",\r\n      \"read\":\"guest\"\r\n    },\r\n    \"config\":{\r\n      \"abstract\":false\r\n    },\r\n    \"skipList\":[\r\n\r\n    ],\r\n    \"ignoreList\":[\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10\r\n    ]\r\n  },\r\n  \"claim__c\":{\r\n    \"properties\":{\r\n      \"id\":{\r\n        \"type\":\"string\",\r\n        \"read-only\":true\r\n      },\r\n      \"lastmodifieddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"createddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"isdeleted\":{\r\n        \"type\":\"boolean\",\r\n        \"read-only\":true\r\n      },\r\n      \"pending_create\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"pending_update\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"pending_delete\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"cache_age\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true\r\n      },\r\n      \"keep_fresh\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true,\r\n        \"default\":1800\r\n      },\r\n      \"prune\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true,\r\n        \"default\":172800\r\n      },\r\n      \"associated_policy__c\":{\r\n        \"type\":\"string\",\r\n        \"required\":true,\r\n        \"searchable\":true,\r\n        \"read-only\":true\r\n      },\r\n      \"claim_status__c\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      }\r\n    },\r\n    \"permissions\":{\r\n      \"create\":\"member\",\r\n      \"update\":\"member\",\r\n      \"delete\":\"member\",\r\n      \"read\":\"guest\"\r\n    },\r\n    \"config\":{\r\n      \"abstract\":false\r\n    },\r\n    \"skipList\":[\r\n\r\n    ],\r\n    \"ignoreList\":[\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10\r\n    ]\r\n  },\r\n  \"ltc_claim_invoice_submission__c\":{\r\n    \"properties\":{\r\n      \"id\":{\r\n        \"type\":\"string\",\r\n        \"read-only\":true\r\n      },\r\n      \"lastmodifieddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"createddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"isdeleted\":{\r\n        \"type\":\"boolean\",\r\n        \"read-only\":true\r\n      },\r\n      \"ltc_submission_status__c\":{\r\n        \"type\":\"string\",\r\n        \"required\":true,\r\n        \"searchable\":true\r\n      },\r\n      \"ltc_associated_claim__c\":{\r\n        \"type\":\"string\",\r\n        \"required\":true,\r\n        \"searchable\":true,\r\n        \"read-only\":true\r\n      }\r\n    },\r\n    \"permissions\":{\r\n      \"create\":\"member\",\r\n      \"update\":\"member\",\r\n      \"delete\":\"member\",\r\n      \"read\":\"guest\"\r\n    },\r\n    \"config\":{\r\n      \"abstract\":false\r\n    },\r\n    \"skipList\":[\r\n\r\n    ],\r\n    \"ignoreList\":[\r\n\r\n    ]\r\n  },\r\n  \"ltc_claim_invoice__c\":{\r\n    \"properties\":{\r\n      \"id\":{\r\n        \"type\":\"string\",\r\n        \"read-only\":true\r\n      },\r\n      \"lastmodifieddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"createddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"isdeleted\":{\r\n        \"type\":\"boolean\",\r\n        \"read-only\":true\r\n      },\r\n      \"ltc_invoice_submission__c\":{\r\n        \"type\":\"string\",\r\n        \"required\":true,\r\n        \"searchable\":true\r\n      },\r\n      \"ltc_hourly_rate__c\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      },\r\n      \"ltc_service_date_from__c\":{\r\n        \"type\":\"string\",\r\n        \"required\":true,\r\n        \"searchable\":true\r\n      },\r\n      \"ltc_service_date_to__c\":{\r\n        \"type\":\"string\",\r\n        \"required\":true,\r\n        \"searchable\":true\r\n      },\r\n      \"ltc_service_dates__c\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true,\r\n        \"read-only\":true\r\n      },\r\n      \"ltc_submission_date__c\":{\r\n        \"type\":\"datetime\",\r\n        \"searchable\":true,\r\n        \"read-only\":true\r\n      },\r\n      \"ltc_total_charges__c\":{\r\n        \"type\":\"string\",\r\n        \"required\":true,\r\n        \"searchable\":true\r\n      },\r\n      \"ltc_type__c\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      },\r\n      \"ltc_invoice_submission__r.ltc_associated_claim__c\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      }\r\n    },\r\n    \"permissions\":{\r\n      \"create\":\"member\",\r\n      \"update\":\"member\",\r\n      \"delete\":\"member\",\r\n      \"read\":\"guest\"\r\n    },\r\n    \"config\":{\r\n      \"abstract\":false\r\n    },\r\n    \"skipList\":[\r\n\r\n    ],\r\n    \"ignoreList\":[\r\n\r\n    ]\r\n  },\r\n  \"policy__c\":{\r\n    \"properties\":{\r\n      \"id\":{\r\n        \"type\":\"string\",\r\n        \"read-only\":true\r\n      },\r\n      \"lastmodifieddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"createddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"isdeleted\":{\r\n        \"type\":\"boolean\",\r\n        \"read-only\":true\r\n      },\r\n      \"pending_create\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"pending_update\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"pending_delete\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"cache_age\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true\r\n      },\r\n      \"keep_fresh\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true,\r\n        \"default\":1800\r\n      },\r\n      \"prune\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true,\r\n        \"default\":172800\r\n      },\r\n      \"insured__c\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      }\r\n    },\r\n    \"permissions\":{\r\n      \"create\":\"member\",\r\n      \"update\":\"member\",\r\n      \"delete\":\"member\",\r\n      \"read\":\"guest\"\r\n    },\r\n    \"config\":{\r\n      \"abstract\":false\r\n    },\r\n    \"skipList\":[\r\n\r\n    ],\r\n    \"ignoreList\":[\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10\r\n    ]\r\n  },\r\n  \"time_log__c\":{\r\n    \"properties\":{\r\n      \"id\":{\r\n        \"type\":\"string\",\r\n        \"read-only\":true\r\n      },\r\n      \"lastmodifieddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"createddate\":{\r\n        \"type\":\"datetime\",\r\n        \"read-only\":true\r\n      },\r\n      \"isdeleted\":{\r\n        \"type\":\"boolean\",\r\n        \"read-only\":true\r\n      },\r\n      \"pending_create\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"pending_update\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"pending_delete\":{\r\n        \"type\":\"boolean\",\r\n        \"local-only\":true,\r\n        \"default\":false\r\n      },\r\n      \"cache_age\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true\r\n      },\r\n      \"keep_fresh\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true,\r\n        \"default\":1800\r\n      },\r\n      \"prune\":{\r\n        \"type\":\"integer\",\r\n        \"local-only\":true,\r\n        \"default\":172800\r\n      },\r\n      \"ltc_related_claim__c\":{\r\n        \"type\":\"string\",\r\n        \"searchable\":true\r\n      },\r\n      \"ltc_check_in_date__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_in_time__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_out_time__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"type_of_care__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_hourly_rate__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_number_of_hours__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_related_invoice__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_in_type__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_out_type__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_in_geolocation__latitude__s\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_in_geolocation__longitude__s\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_in_geolocation__c\":{\r\n        \"type\":\"string\",\r\n        \"read-only\":true\r\n      },\r\n      \"ltc_check_out_geolocation__latitude__s\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_out_geolocation__longitude__s\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_out_geolocation__c\":{\r\n        \"type\":\"string\",\r\n        \"read-only\":true\r\n      },\r\n      \"ltc_check_in_geolocation_accuracy__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"check_out_geolocation_accuracy__c\":{\r\n        \"type\":\"string\"\r\n      },\r\n      \"ltc_check_in_datetime__c\":{\r\n        \"type\":\"datetime\"\r\n      }\r\n    },\r\n    \"permissions\":{\r\n      \"create\":\"member\",\r\n      \"update\":\"member\",\r\n      \"delete\":\"member\",\r\n      \"read\":\"guest\"\r\n    },\r\n    \"config\":{\r\n      \"abstract\":false\r\n    },\r\n    \"skipList\":[\r\n\r\n    ],\r\n    \"ignoreList\":[\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10\r\n    ]\r\n  }\r\n};\r\n\r\nexport const schemaSQL = `\r\nCREATE TABLE account (\r\n\tlocal_id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \r\n\tid VARCHAR, \r\n\tlastmodifieddate DATETIME, \r\n\tcreateddate DATETIME, \r\n\tisdeleted BOOLEAN, \r\n\tpending_create BOOLEAN, \r\n\tpending_update BOOLEAN, \r\n\tpending_delete BOOLEAN, \r\n\tcache_age INTEGER, \r\n\tkeep_fresh INTEGER, \r\n\tprune INTEGER, \r\n\tname VARCHAR, \r\n\tlastname VARCHAR, \r\n\tfirstname VARCHAR, \r\n\ttype VARCHAR, \r\n\tCHECK (isdeleted IN (0, 1)), \r\n\tCHECK (pending_create IN (0, 1)), \r\n\tCHECK (pending_update IN (0, 1)), \r\n\tCHECK (pending_delete IN (0, 1))\r\n)\r\n\r\n;\r\nCREATE TABLE claim__c (\r\n\tlocal_id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \r\n\tid VARCHAR, \r\n\tlastmodifieddate DATETIME, \r\n\tcreateddate DATETIME, \r\n\tisdeleted BOOLEAN, \r\n\tpending_create BOOLEAN, \r\n\tpending_update BOOLEAN, \r\n\tpending_delete BOOLEAN, \r\n\tcache_age INTEGER, \r\n\tkeep_fresh INTEGER, \r\n\tprune INTEGER, \r\n\tassociated_policy__c VARCHAR NOT NULL, \r\n\tclaim_status__c VARCHAR, \r\n\tCHECK (isdeleted IN (0, 1)), \r\n\tCHECK (pending_create IN (0, 1)), \r\n\tCHECK (pending_update IN (0, 1)), \r\n\tCHECK (pending_delete IN (0, 1))\r\n)\r\n\r\n;\r\nCREATE TABLE ltc_claim_invoice_submission__c (\r\n\tlocal_id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \r\n\tid VARCHAR, \r\n\tlastmodifieddate DATETIME, \r\n\tcreateddate DATETIME, \r\n\tisdeleted BOOLEAN, \r\n\tltc_submission_status__c VARCHAR NOT NULL, \r\n\tltc_associated_claim__c VARCHAR NOT NULL, \r\n\tCHECK (isdeleted IN (0, 1))\r\n)\r\n\r\n;\r\nCREATE TABLE ltc_claim_invoice__c (\r\n\tlocal_id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \r\n\tid VARCHAR, \r\n\tlastmodifieddate DATETIME, \r\n\tcreateddate DATETIME, \r\n\tisdeleted BOOLEAN, \r\n\tltc_invoice_submission__c VARCHAR NOT NULL, \r\n\tltc_hourly_rate__c VARCHAR, \r\n\tltc_service_date_from__c VARCHAR NOT NULL, \r\n\tltc_service_date_to__c VARCHAR NOT NULL, \r\n\tltc_service_dates__c VARCHAR, \r\n\tltc_submission_date__c DATETIME, \r\n\tltc_total_charges__c VARCHAR NOT NULL, \r\n\tltc_type__c VARCHAR, \r\n\tCHECK (isdeleted IN (0, 1))\r\n)\r\n\r\n;\r\nCREATE TABLE policy__c (\r\n\tlocal_id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \r\n\tid VARCHAR, \r\n\tlastmodifieddate DATETIME, \r\n\tcreateddate DATETIME, \r\n\tisdeleted BOOLEAN, \r\n\tpending_create BOOLEAN, \r\n\tpending_update BOOLEAN, \r\n\tpending_delete BOOLEAN, \r\n\tcache_age INTEGER, \r\n\tkeep_fresh INTEGER, \r\n\tprune INTEGER, \r\n\tinsured__c VARCHAR, \r\n\tCHECK (isdeleted IN (0, 1)), \r\n\tCHECK (pending_create IN (0, 1)), \r\n\tCHECK (pending_update IN (0, 1)), \r\n\tCHECK (pending_delete IN (0, 1))\r\n)\r\n\r\n;\r\nCREATE TABLE time_log__c (\r\n\tlocal_id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \r\n\tid VARCHAR, \r\n\tlastmodifieddate DATETIME, \r\n\tcreateddate DATETIME, \r\n\tisdeleted BOOLEAN, \r\n\tpending_create BOOLEAN, \r\n\tpending_update BOOLEAN, \r\n\tpending_delete BOOLEAN, \r\n\tcache_age INTEGER, \r\n\tkeep_fresh INTEGER, \r\n\tprune INTEGER, \r\n\tltc_related_claim__c VARCHAR, \r\n\tltc_check_in_date__c VARCHAR, \r\n\tltc_check_in_time__c VARCHAR, \r\n\tltc_check_out_time__c VARCHAR, \r\n\ttype_of_care__c VARCHAR, \r\n\tltc_hourly_rate__c VARCHAR, \r\n\tltc_number_of_hours__c VARCHAR, \r\n\tltc_related_invoice__c VARCHAR, \r\n\tltc_check_in_type__c VARCHAR, \r\n\tltc_check_out_type__c VARCHAR, \r\n\tltc_check_in_geolocation__latitude__s VARCHAR, \r\n\tltc_check_in_geolocation__longitude__s VARCHAR, \r\n\tltc_check_in_geolocation__c VARCHAR, \r\n\tltc_check_out_geolocation__latitude__s VARCHAR, \r\n\tltc_check_out_geolocation__longitude__s VARCHAR, \r\n\tltc_check_out_geolocation__c VARCHAR, \r\n\tltc_check_in_geolocation_accuracy__c VARCHAR, \r\n\tcheck_out_geolocation_accuracy__c VARCHAR, \r\n\tltc_check_in_datetime__c DATETIME, \r\n\tCHECK (isdeleted IN (0, 1)), \r\n\tCHECK (pending_create IN (0, 1)), \r\n\tCHECK (pending_update IN (0, 1)), \r\n\tCHECK (pending_delete IN (0, 1))\r\n)\r\n\r\n;`;\r\n\r\nexport const version = '5d04d4d3-d673-4066-aa56-cf9d330c3f95';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema.ts","import { Observable } from 'rxjs/Observable';\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n/// <reference path=\"../assets/vendor/sjcl.d.ts\" />\r\n/// <reference path=\"../assets/vendor/fingerprint.d.ts\" />\r\ndeclare var cordova: any;\r\n\r\nexport const upsert = (state: any[], data: any, idField?:string, replaceFields?:boolean) => {\r\n  idField = (idField) ? idField : 'id';\r\n  state = state.map(obj => {\r\n    const findById = function(newObj: any) {\r\n      return typeof newObj !== 'undefined' && obj[idField] === newObj[idField];\r\n    }\r\n    const i = data.findIndex(findById);\r\n    if (i > -1) {\r\n      let retObj = data[i];\r\n      if (!replaceFields) {\r\n        for (const key in data[i]) {\r\n          obj[key] = data[i][key];\r\n        }\r\n        retObj = obj;\r\n      }\r\n      \r\n      delete data[i];\r\n      return retObj;\r\n    }\r\n    return obj;\r\n  });\r\n  state = state.concat(data.filter(obj => (typeof obj !== 'undefined')));\r\n  return state;\r\n}\r\n\r\nexport const uuid = (a:any) => a ? (a^Math.random()*16>>a/4).toString(16):(\"\"+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,uuid)\r\n\r\nexport const updatePending = (state:any[], newObject: any, uuid?:string) => {\r\n  if (uuid) {\r\n    newObject['tempId'] = uuid;\r\n  }\r\n  return upsert(state, newObject, 'tempId');\r\n}\r\n\r\n/**\r\n * Wraps all SJCL-dependent code into a wrapper which makes it testable and modular.\r\n */\r\nexport class SJCLWrapper {\r\n  /**\r\n   * Hasher takes a password-like code and adds entropy to it by passing it through a pbkdf \r\n   * at 2,000 iterations\r\n   */\r\n  public hash = (passcode:string) => sjcl.codec.hex.fromBits( sjcl.misc.pbkdf2( \r\n    passcode, \r\n    sjcl.codec.hex.toBits( '1156739577753345366a3269387173326966' ), \r\n    2000, \r\n    256) \r\n  );\r\n\r\n  public sha256 = (code:string) => sjcl.codec.base64url.fromBits( sjcl.hash.sha256.hash(code) );\r\n\r\n  public encrypt = (code: string) => sjcl.encrypt('@todo: secure this cipher', code);\r\n  public decrypt = (json_string: any) => sjcl.decrypt('@todo: secure this cipher', json_string);\r\n}\r\n\r\n/**\r\n * Wraps all fingerprint-related code into a wrapper which makes it testable and modular.\r\n */\r\nexport class FingerprintWrapper {\r\n  public async isAvailable() {\r\n    return new Promise<boolean>( (resolve, reject) => {\r\n      if (typeof Fingerprint === 'undefined') {\r\n        resolve(false);\r\n      }\r\n      Fingerprint.isAvailable( result => {\r\n        resolve(true);\r\n      }, message => {\r\n        resolve(false);\r\n      });\r\n    });    \r\n  }\r\n\r\n  public async show() {\r\n    return new Promise<boolean>( (resolve, reject) => {\r\n      if (typeof Fingerprint === 'undefined') {\r\n        reject('fingerprint module not loaded');\r\n      }\r\n      Fingerprint.show({\r\n        clientId: 'JH-LTC-Login',\r\n        clientSecret: '@todo!:'\r\n      }, () => {\r\n        resolve(true);\r\n      }, err => {\r\n        reject(err);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Creates a temporary UID and inserts an object into the application state with a pending status,\r\n * then binds to the RESTful call to swap out the temporary UID with the server id once the operation\r\n * completes. \r\n */\r\nexport const insertPending = (state:any[], data:any, serviceCall:any, callback:any) => {\r\n  data['pending'] = true;\r\n  const  uid = uuid(false);\r\n  data['tempId'] = uid;\r\n  serviceCall(data, callback);\r\n  return [upsert(state, data), uid];\r\n}\r\n\r\n/**\r\n * Used to bind reducers to a standard observable which acts like a mock-server. Primarily\r\n * utilized by material data tables.\r\n */\r\nexport class DataSourceWrapper {\r\n  constructor(private observable: any) {}\r\n\r\n  /** Connect function called by the table to retrieve one stream containing the data to render. */\r\n  connect(): Observable<any> {\r\n    return this.observable;\r\n  }\r\n\r\n  disconnect() { }\r\n}\r\n\r\n\r\n/**\r\n * Given a start time and end time, returns the time difference in hours:minutes. \r\n * Given a rate as well, it gives the total charge for that time difference.\r\n */\r\n@Pipe({\r\n  name: 'rateFormat'\r\n})\r\nexport class RateFormatPipe implements PipeTransform {\r\n  transform(start: any, end: any, rate?: number): any {\r\n    try {\r\n      end = new Date(end);\r\n      start = new Date(start);\r\n      if (rate) {\r\n        return (timeDiffNumber(start, end) * rate / 60).toFixed(2);\r\n      }\r\n      return timeDiff(start, end);\r\n    } catch (e) {\r\n      return 'INVALID DATE';\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * Given a start and an end, returns the time difference in hours:minutes. If \r\n * asNumber is set, it will return that as an integer.\r\n */\r\n@Pipe({\r\n  name: 'timeEst'\r\n})\r\nexport class TimeEstimatePipe implements PipeTransform {\r\n  transform(start: any, end: any, asNumber?: boolean): any {\r\n    try {\r\n      end = new Date(end);\r\n      start = new Date(start);\r\n      if (asNumber) {\r\n        return (timeDiffNumber(start, end) / 60).toFixed(2);\r\n      }\r\n      return timeDiff(start, end);\r\n    } catch (e) {\r\n      return 'INVALID DATE';\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the difference between two times as a time string in hours:minutes \r\n */\r\nexport const timeDiff = (startDate, endDate) => {\r\n  try {\r\n    let timeDiff = Math.abs(startDate.getTime() - endDate.getTime());\r\n    const hh = Math.floor(timeDiff / 1000 / 60 / 60);\r\n    let timeStr = '' + hh;  \r\n    timeDiff -= hh * 1000 * 60 * 60;\r\n    const mm = Math.floor(timeDiff / 1000 / 60);\r\n    if(mm < 10) {\r\n      timeStr += ':0' + mm;\r\n    } else {\r\n      timeStr += ':' + mm;\r\n    }  \r\n    return timeStr;\r\n  } catch (e) { return '0:00'; }\r\n}\r\n\r\n/**\r\n * Difference in hours between two times. Used to calculate the rate a customer was charged.\r\n */\r\nexport const timeDiffNumber = (start, end) => Math.abs( \r\n  parseFloat(\r\n    ((end.getTime() - start.getTime()) / 1000 / 60).toFixed(2)\r\n  ));\r\n\r\n/**\r\n * Utility function which asynchronously returns the user's geolocation data once it is able to obtain it.\r\n */\r\nexport const getGeoCoords = async function(){\r\n  return new Promise<any>( (resolve, reject) => {\r\n    navigator.geolocation.getCurrentPosition(position => {\r\n      resolve(position);\r\n    }, error => {\r\n      if (typeof cordova !== 'undefined' && cordova.plugins && cordova.plugins.diagnostic) {\r\n        cordova.plugins.diagnostic.isLocationAuthorized(function(enabled){\r\n          if(!enabled){\r\n            const statusEnum = cordova.plugins.diagnostic.permissionStatus;\r\n            cordova.plugins.diagnostic.requestLocationAuthorization(function(status){\r\n              if (status === statusEnum.GRANTED || status === statusEnum.GRANTED_WHEN_IN_USE) {\r\n                getGeoCoords().then( data => resolve(data), error => reject(error) );\r\n              } else {\r\n                reject('You have disabled location data for this app.')\r\n              }\r\n            }, function(error){\r\n              reject(error);\r\n            });\r\n          }\r\n        }, function(error){\r\n          reject(error);\r\n        });\r\n      } else {\r\n        reject('Could not request location status at this time.');\r\n      }      \r\n    }, {\r\n      enableHighAccuracy: true,\r\n      timeout: 15000,\r\n      maximumAge: 0\r\n    });\r\n  });  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utils.ts"],"sourceRoot":""}